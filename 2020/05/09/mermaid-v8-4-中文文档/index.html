<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="mermaid v8.4 中文文档, MockyBang&#39;s Blob">
    <meta name="baidu-site-verification" content="fmlEuI34ir" />
    <meta name="google-site-verification" content="yCy2azpds5XSuGZvis6OuA-XIGF5GuGpYRAaGfD6o48" />
    <meta name="360-site-verification" content="b7c11a830ef90fd1464ad6206bb7b6e7" />
    <meta name="description" content="对最新的 mermaid 文档进行翻译。复杂的流程图代码是看完整个文档，根据它的图片自己写的对应的 mermaid 代码（官方文档未提供）。有些功能需要特定版本的 mermaid 支持，如状态图必须是 v8.4 版本的。官方文档对甘特图的说">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>mermaid v8.4 中文文档 | MockyBang&#39;s Blob</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
    <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
    <script>
        var _hmt = _hmt || [];
        (function () {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?46e79e71af0709a5b9106bf20cecc493";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
    </script>

    
        <script>
            (function(){
                var bp = document.createElement('script');
                var curProtocol = window.location.protocol.split(':')[0];
                if (curProtocol === 'https') {
                    bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
                }
                else {
                    bp.src = 'http://push.zhanzhang.baidu.com/push.js';
                }
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(bp, s);
            })();
        </script>
    

    <script>
        (function(){
        var src = "https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba";
        document.write('<script src="' + src + '" id="sozz"><\/script>');
        })();
    </script>

<meta name="generator" content="Hexo 5.2.0"></head>

<body>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">MockyBang's Blob</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/contact" class="waves-effect waves-light">
            
            <i class="fa fa-comments"></i>
            
            <span>留言板</span>
        </a>
    </li>
    
    <li>
        <a href="#searchModal" class="modal-trigger waves-effect waves-light">
            <i id="searchIcon" class="fa fa-search" title="搜索"></i>
        </a>
    </li>
</ul>

<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">MockyBang's Blob</div>
        <div class="logo-desc">
            
            Python | Machine Learning | CUIT
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        <li>
            <a href="/contact" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-comments"></i>
                
                留言板
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>

        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    
<script src="/libs/cryptojs/crypto-js.min.js"></script>
<script>
    (function() {
        let pwd = '';
        if (pwd && pwd.length > 0) {
            if (pwd !== CryptoJS.SHA256(prompt('请输入访问本文章的密码')).toString(CryptoJS.enc.Hex)) {
                alert('密码错误，将返回主页！');
                location.href = '/';
            }
        }
    })();
</script>




<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/20.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        mermaid v8.4 中文文档
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 20px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                        <a href="/tags/mermaid/" target="_self">
                            <span class="chip bg-color">mermaid</span>
                        </a>
                        
                        <a href="/tags/markdown/" target="_self">
                            <span class="chip bg-color">markdown</span>
                        </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                        <a href="/categories/%E5%9B%BE%E8%A1%A8%E5%B7%A5%E5%85%B7/" class="post-category" target="_self">
                            图表工具
                        </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-05-09
                </div>

                <div class="post-author info-break-policy">
                    <i class="fa fa-user-o fa-fw"></i>作者:&nbsp;&nbsp;
                    
                    MockyBang
                    
                </div>

                
                
                <div class="info-break-policy">
                    <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                    14.1k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    63 分
                </div>
                
                

                
                <div id="busuanzi_container_page_pv" class="info-break-policy">
                    <i class="fa fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                    <span id="busuanzi_value_page_pv"></span>
                </div>
                
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>对最新的 mermaid 文档进行翻译。复杂的流程图代码是看完整个文档，根据它的图片自己写的对应的 mermaid 代码（官方文档未提供）。有些功能需要特定版本的 mermaid 支持，如状态图必须是 v8.4 版本的。官方文档对甘特图的说明写的很简略，而且在样式类章节中出现不是该类图的属性，故删除。</p>
<h1 id="mermaid"><a href="#mermaid" class="headerlink" title="mermaid"></a>mermaid</h1><h2 id="开始"><a href="#开始" class="headerlink" title="开始"></a>开始</h2><h3 id="mermaid-1"><a href="#mermaid-1" class="headerlink" title="mermaid"></a>mermaid</h3><h4 id="8-4-版本中新的图表"><a href="#8-4-版本中新的图表" class="headerlink" title="8.4 版本中新的图表"></a>8.4 版本中新的图表</h4><p>在 8.4 版本中，类图有了一些新的特性、bug修复和文档。8.4 版本中的另一个新特性是新的图类型，即状态图。</p>
<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    Animal &lt;|-- Duck
    Animal &lt;|-- Fish
    Animal &lt;|-- Zebra
    class Animal &#123;
        +int age
        +String gender
        +isMammal()
        +mate()
    &#125;
    
    class Duck &#123;
        +String beakColor
        +swim()
        +quack()
    &#125;
    
    class Fish &#123;
        -int sizeInFeet
        -canEat()
    &#125;
    
    class Zebra
    Zebra : +bool is_wild
    Zebra : +run()<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    [*] --&gt; First
    First --&gt; Second
    First --&gt; Third
    
    state First &#123;
        [*] --&gt; fir
        fir --&gt; [*]
    &#125;
    
    state Second &#123;
        [*] --&gt; sec
        sec --&gt; [*]
    &#125;
    
    state Third &#123;
        [*] --&gt; thi
        thi --&gt; [*]
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="关于-8-2-版本的特别说明"><a href="#关于-8-2-版本的特别说明" class="headerlink" title="关于 8.2 版本的特别说明"></a>关于 8.2 版本的特别说明</h4><p>在 8.2 版本中引入了安全性改进。引入了一个 securityLevel 配置，它设置了要在解析图上使用的信任级别。</p>
<ul>
<li>true: (默认)对文本标签进行编码，禁用单击功能</li>
<li>false: 允许使用文本标签，启用单击功能</li>
</ul>
<p>已解决的问题：</p>
<p><strong>请注意</strong>：这将改变 mermaid 的默认行为，以便升级到 8.2 之后，如果未配置 securityLevel，<del>则流程图中的标记将被编码为标记</del>，并且禁止单击。</p>
<p>如果您的应用程序对图源安全性负责，您可以相应地设置 securityLevel。通过这样做，将再次允许单击和标记。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaidAPI<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    securityLevel<span class="token operator">:</span> <span class="token string">'loose'</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>保持稳定的脉搏（保持稳定的更新）：mermaid 需要更多的合作者。<br><img src="header.png" alt="heade"></p>
<p>以类似于 markdown 的方式从文本生成图表和流程图。</p>
<p>在解释代码时，是否曾经想过简化文档并避免使用 Visio 之类的笨重工具？</p>
<p>这就是 mermaid 诞生的原因，这是一种简单的类似于 markdown 的脚本语言，用于通过 javascript 从文本生成图表。</p>
<p><strong>Mermaid 被提名并赢得”最令人兴奋的技术使用”类别的 JS 开源奖(2019)。感谢所有参与的人，提交拉请求的人，回答问题的人，特别感谢帮助我维护这个项目的Tyler Long。</strong></p>
<h4 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TD;
    A--&gt;B;
    A--&gt;C;
    B--&gt;D;
    C--&gt;D;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TD;
    A--&gt;B;
    A--&gt;C;
    B--&gt;D;
    C--&gt;D;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="顺序图（时序图）"><a href="#顺序图（时序图）" class="headerlink" title="顺序图（时序图）"></a>顺序图（时序图）</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    participant Alice
    participant Bob
    Alice-&gt;&gt;John: Hello John, how are you?
    loop Healthcheck
        John-&gt;&gt;John: Fight against hypochondria
    end
    Note right of John: Rational thoughts &lt;br&#x2F;&gt;prevail!
    John--&gt;&gt;Alice: Great!
    John-&gt;&gt;Bob: How are you?
    Bob--&gt;&gt;John: Jolly good!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    participant Alice
    participant Bob
    Alice-&gt;&gt;John: Hello John, how are you?
    loop Healthcheck
        John-&gt;&gt;John: Fight against hypochondria
    end
    Note right of John: Rational thoughts &lt;br&#x2F;&gt;prevail!
    John--&gt;&gt;Alice: Great!
    John-&gt;&gt;Bob: How are you?
    Bob--&gt;&gt;John: Jolly good!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="甘特图"><a href="#甘特图" class="headerlink" title="甘特图"></a>甘特图</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">gantt
    dateFormat YYYY-MM-DD
    title Adding GANTT diagram to mermaid
    excludes weekdays 2014-01-10
    
    section A section
    completed task      :done, des1, 2014-01-06,2014-01-08
    Active task     :active, des2, 2014-01-09, 3d
    Future task     :   des3, after des2, 5d
    Future task2    :   des4, after des3, 5d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">gantt
    dateFormat YYYY-MM-DD
    title Adding GANTT diagram to mermaid
    section A section
    completed task      :done, des1, 2014-01-06,2014-01-08
    Active task     :active, des2, 2014-01-09, 3d
    Future task     :   des3, after des2, 5d
    Future task2    :   des4, after des3, 5d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><strong>MWeb 不支持甘特图中的 excludes 语句。</strong></p>
<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">gantt
        dateFormat  YYYY-MM-DD
        title Adding GANTT diagram functionality to mermaid
        section A section
        Completed task            :done,    des1, 2014-01-06,2014-01-08
        Active task               :active,  des2, 2014-01-09, 3d
        Future task               :         des3, after des2, 5d
        Future task2               :         des4, after des3, 5d
        section Critical tasks
        Completed task in the critical line :crit, done, 2014-01-06,24h
        Implement parser and jison          :crit, done, after des1, 2d
        Create tests for parser             :crit, active, 3d
        Future task in critical line        :crit, 5d
        Create tests for renderer           :2d
        Add to mermaid                      :1d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="类图：实验性"><a href="#类图：实验性" class="headerlink" title="类图：实验性"></a>类图：实验性</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    Class01 &lt;|-- AveryLongClass : Cool
    Class03 *-- Class04
    Class05 o-- Class06
    Class07 .. Class08
    Class09 --&gt; C2 : Where am i?
    Class09 --* C3
    Class09 --|&gt; Class07
    Class07 : equals()
    Class07 : Object[] elementData
    Class01 : size()
    Class01 : int chimp
    Class01 : int gorilla
    Class08 &lt;--&gt; C2: Cool label<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    Class01 &lt;|-- AveryLongClass : Cool
    Class03 *-- Class04
    Class05 o-- Class06
    Class07 .. Class08
    Class09 --&gt; C2 : Where am i?
    Class09 --* C3
    Class09 --|&gt; Class07
    Class07 : equals()
    Class07 : Object[] elementData
    Class01 : size()
    Class01 : int chimp
    Class01 : int gorilla
    Class08 &lt;--&gt; C2: Cool label<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="Git-图：实验性"><a href="#Git-图：实验性" class="headerlink" title="Git 图：实验性"></a>Git 图：实验性</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">gitGraph:
options
&#123;
    &quot;nodeSpacing&quot;: 150,
    &quot;nodeRadius&quot;: 10
&#125;
end
commit
branch newbranch
checkout newbranch
commit
commit
checkout master
commit
commit
merge newbranch<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">gitGraph:
options
&#123;
    &quot;nodeSpacing&quot;: 150,
    &quot;nodeRadius&quot;: 10
&#125;
end
commit
branch newbranch
checkout newbranch
commit
commit
checkout master
commit
commit
merge newbranch<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><h5 id="CDN-Content-Delivery-Network-内容分发网络"><a href="#CDN-Content-Delivery-Network-内容分发网络" class="headerlink" title="CDN(Content Delivery Network)内容分发网络"></a>CDN(Content Delivery Network)内容分发网络</h5><pre class="line-numbers language-http" data-language="http"><code class="language-http"><span class="token header-name keyword">https:</span>//unpkg.com/mermaid@&lt;version>/dist/<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>将 <code>&lt;version&gt;</code> 替换为期望的版本号<br>示例：<a target="_blank" rel="noopener" href="https://unpkg.com/mermaid@7.1.0/dist/">https://unpkg.com/mermaid@7.1.0/dist/</a></p>
<h5 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> mermaid<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h4><p><a target="_blank" rel="noopener" href="https://mermaidjs.github.io/">https://mermaidjs.github.io</a></p>
<h4 id="相关项目"><a href="#相关项目" class="headerlink" title="相关项目"></a>相关项目</h4><ul>
<li><a target="_blank" rel="noopener" href="https://github.com/mermaidjs/mermaid.cli">mermaid CLI</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mermaidjs/mermaid-live-editor">mermaid live editor</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mermaidjs/mermaid-webpack-demo">mermaid webpack demo</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mermaidjs/mermaid-parcel-demo">mermaid Parcel demo</a></li>
</ul>
<h4 id="寻求协助"><a href="#寻求协助" class="headerlink" title="寻求协助"></a>寻求协助</h4><p>事情越来越多，我很难保持更新。为了弥补这一点，如果我们能组成一个核心的开发团队，与 mermaid 的未来发展合作，那将是极棒的。</p>
<p>作为这个团队的一部分，您将获得对仓库的写入权限，并在回答问题时代表项目。</p>
<p>我们一起可以继续进行以下工作：</p>
<ul>
<li>添加更多类型的图表，如思维导图、ert 图表等。</li>
<li>改进现有图表。</li>
</ul>
<p>如果您想参与其中，请随时联系我。</p>
<h4 id="给贡献人员"><a href="#给贡献人员" class="headerlink" title="给贡献人员"></a>给贡献人员</h4><h5 id="安装-1"><a href="#安装-1" class="headerlink" title="安装"></a>安装</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="构建"><a href="#构建" class="headerlink" title="构建"></a>构建</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> build:watch<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="Lint"><a href="#Lint" class="headerlink" title="Lint"></a>Lint</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> lint<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>我们使用<a target="_blank" rel="noopener" href="https://eslint.org/">eslint</a>。我们建议您安装<a target="_blank" rel="noopener" href="https://eslint.org/docs/user-guide/integrations">编辑器插件</a>，以便获得实时的lint结果。</p>
<blockquote>
<p>ESLint 是一个插件化并且可配置的JavaScript 语法规则和代码风格的检查工具。</p>
</blockquote>
<h5 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token builtin class-name">test</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>在浏览器中进行手动测试：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">open</span> dist/index.html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="发行"><a href="#发行" class="headerlink" title="发行"></a>发行</h5><p>对于那些有权限这样做的人：</p>
<p>更新 <code>package.json</code> 中的版本号：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> publish<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>上面的命令将文件生成到 <code>dist</code> 文件夹中，并将其发布到 npmjs.org。</p>
<h4 id="鸣谢"><a href="#鸣谢" class="headerlink" title="鸣谢"></a>鸣谢</h4><p>非常感谢 <a target="_blank" rel="noopener" href="http://d3js.org/">d3</a> 和 <a target="_blank" rel="noopener" href="https://github.com/cpettitt/dagre-d3">dagre-d3</a> 项目提供了图形布局和绘图库！</p>
<p>还要感谢 <a target="_blank" rel="noopener" href="http://bramp.github.io/js-sequence-diagrams">js-sequence-diagram</a> 项目提供了用于序列图的语法用法。感谢 Jessica Peter 的灵感和甘特渲染的出发点。</p>
<p><em>Mermaid 是由 Knut Sveidqvist 创建的，用于简化文档。</em></p>
<p><em>自2017年4月起，<a target="_blank" rel="noopener" href="https://github.com/tylerlong">Tyler Long</a> 成为合作伙伴。</em></p>
<p>这是项目<a target="_blank" rel="noopener" href="https://github.com/knsv/mermaid/graphs/contributors">贡献者</a>的完整列表。</p>
<h3 id="FAQ-Frequently-Asked-Questions-常见问题"><a href="#FAQ-Frequently-Asked-Questions-常见问题" class="headerlink" title="FAQ(Frequently Asked Questions)常见问题"></a>FAQ(Frequently Asked Questions)常见问题</h3><ol>
<li><a target="_blank" rel="noopener" href="https://github.com/knsv/mermaid/issues/556#issuecomment-363182217">如何在流程图中添加标题？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/mermaidjs/mermaid.cli/pull/24#issuecomment-373402785">如何指定自定义的 CSS 文件？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/knsv/mermaid/issues/542#issuecomment-3343564621">如何修复工具提示的错位问题？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/knsv/mermaid/issues/269#issuecomment-373229136">如何指定甘特图的 xAxis 格式？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/knsv/mermaid/issues/372">如何绑定事件？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/knsv/mermaid/issues/384#issuecomment-281339381">如何在文本中添加换行？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/knsv/mermaid/issues/407#issuecomment-329944735">链接文本如何包含特殊字符？</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/knsv/mermaid/issues/580#issuecomment-373929046">如何更改流程图的曲线样式？</a></li>
</ol>
<h3 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h3><h4 id="安装-2"><a href="#安装-2" class="headerlink" title="安装"></a>安装</h4><h5 id="npm-包"><a href="#npm-包" class="headerlink" title="npm 包"></a>npm 包</h5><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">yarn</span> <span class="token function">add</span> mermaid<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="CDN"><a href="#CDN" class="headerlink" title="CDN"></a>CDN</h5><p><a target="_blank" rel="noopener" href="https://npkg.com/mermaid/">https://npkg.com/mermaid/</a></p>
<p>请注意，您可以通过右上角的下拉框切换版本。</p>
<h4 id="网页上的简单用法"><a href="#网页上的简单用法" class="headerlink" title="网页上的简单用法"></a>网页上的简单用法</h4><p>在网页上集成 mermaid 最简单的方法需要两个元素：</p>
<ol>
<li>使用 script 标签将 mermaid 的框架包含在 html 页面中。</li>
<li>网页上的图形定义</li>
</ol>
<p>如果这些设置就绪，那么 mermaid 将监听页面加载事件，并在被触发时（当页面已加载后），将定位页面上的图形并将其转换为 svg 文件。</p>
<h5 id="在您的网页上加入-mermaid"><a href="#在您的网页上加入-mermaid" class="headerlink" title="在您的网页上加入 mermaid"></a>在您的网页上加入 mermaid</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mermaid.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">mermaid<span class="token punctuation">.</span><span class="token function">initalize</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>startOnLoad<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>在您的页面下方，mermaid 将查找 <code>class=&quot;mermaid&quot;</code> 的标签。mermaid 将尝试从这些标签中读取图表定义并将其替换为 svg 图表。</p>
<h5 id="像这样定义一个图表："><a href="#像这样定义一个图表：" class="headerlink" title="像这样定义一个图表："></a>像这样定义一个图表：</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mermaid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    CHART DEFINITION GOES HERE
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>最终会像这样：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mermaid<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mermaidChart0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token punctuation">></span></span>
        Chart ends up here
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>也会在 mermaid 标签中添加一个 id 属性。</p>
<h5 id="在节点中启用单击事件和标签"><a href="#在节点中启用单击事件和标签" class="headerlink" title="在节点中启用单击事件和标签"></a>在节点中启用单击事件和标签</h5><p><a href="#toc_4">在节点中启用单击事件和标签</a></p>
<h5 id="简单的完整示例："><a href="#简单的完整示例：" class="headerlink" title="简单的完整示例："></a>简单的完整示例：</h5><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>utf-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mermaid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    graph LR
        A --- B
        B-->C[fa:fa-ban forbidden]
        B-->D(fa:fa-spinner);
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mermaid.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">mermaid<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>startOnLoad<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="标签越界"><a href="#标签越界" class="headerlink" title="标签越界"></a>标签越界</h5><p>如果您使用通过 CSS 加载的动态加载的字体（例如 Google 字体），mermaid 则会等待整个页面加载（dom + 资源，特别是字体文件）。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    mermaid<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>或者</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token function">$</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    mermaid<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>否则，极有可能导致 mermaid 渲染图的标签越界。mermaid 中的默认集成使用 window.load 事件开始渲染。</p>
<p>如果在您的页面主体中包含其他字体，这些可能会被用来代替 mermaid 的字体。在样式中指定字体是解决此问题的方法。</p>
<pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">div.mermaid</span> <span class="token punctuation">&#123;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'trebuchet ms'</span><span class="token punctuation">,</span> verdana<span class="token punctuation">,</span> arial<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="调用-mermaid-init"><a href="#调用-mermaid-init" class="headerlink" title="调用 mermaid.init"></a>调用 <code>mermaid.init</code></h5><p>默认情况下，当文档准备就绪时，将调用 <code>mermaid.init</code>，查找所有带 <code>class=&quot;mermaid&quot;</code> 的元素。如果要在 mermaid 加载之后添加内容，或者需要对此行为进行更细粒度的控制，您可以用如下方法自己调用 <code>init</code> ：</p>
<ul>
<li>一个配置对象</li>
<li>一些节点，例如：<ul>
<li>一个普通节点</li>
<li>数组类的节点</li>
<li>或 W3C 选择器来查找您的节点</li>
</ul>
</li>
</ul>
<p>例如：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>noteMargin<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token string">".someOtherClass"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>或没有配置对象和 jQuery 选择器：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">"#someId .yetAnotherClass"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p><strong>警告</strong>：这种类型的集成已被抛弃。相反，处理更复杂的集成的首选方法是使用 mermaidAPI。</p>
</blockquote>
<h4 id="与-Webpack-结合使用"><a href="#与-Webpack-结合使用" class="headerlink" title="与 Webpack 结合使用"></a>与 Webpack 结合使用</h4><p>mermaid 完全支持 webpack，这是一个<a target="_blank" rel="noopener" href="https://github.com/mermaidjs/mermaid-webpack-demo">工作演示</a>。</p>
<h4 id="API使用"><a href="#API使用" class="headerlink" title="API使用"></a>API使用</h4><p>这个 API 的主要思想是能够使用图形定义作为字符串来调用渲染函数。render 函数将渲染图形并使用生成的 svg 代码调用回调。通过这种方法，站点创建者可以从站点（也许从文本区域）获取图形定义，进行渲染，然后将图形放置在站点中的某个位置。</p>
<p>为此，请在您的网站上包含 mermaidAPI 而不是 mermaid.js 。下面的示例概述了如何使用它。该示例仅将生成的 svg 记录到 javascript 控制台。</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mermaidAPI.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    mermaidAPI<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        startOnLoad<span class="token operator">:</span><span class="token boolean">false</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token comment">// Example of using the API</span>
        <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#graphDiv"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">var</span> <span class="token function-variable function">insertSvg</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">svgCode<span class="token punctuation">,</span> bindFunctions</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> svgCode<span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
        
        <span class="token keyword">var</span> graphDefinition <span class="token operator">=</span> <span class="token string">'graph TB\na-->b'</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> graph <span class="token operator">=</span> mermaidAPI<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token string">'graphDiv'</span><span class="token punctuation">,</span> graphDefinition<span class="token punctuation">,</span> insertSvg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="绑定事件"><a href="#绑定事件" class="headerlink" title="绑定事件"></a>绑定事件</h5><p>有时，生成的图形还定义了交互，例如工具提示和单击事件。 使用 API ​​时，必须在将图形插入 DOM 后添加这些事件。</p>
<p>以下示例代码摘录了 mermaid 在使用 API​​ 时的操作。该示例说明了使用 API ​​进行渲染时如何将事件绑定到 svg。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> <span class="token function-variable function">insertSvg</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">svgCode<span class="token punctuation">,</span> bindFunctions</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
   element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> svgCode<span class="token punctuation">;</span>
   <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> callback <span class="token operator">!==</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">callback</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">bindFunctions</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token string">'theGraph'</span><span class="token punctuation">;</span>

mermaidAPI<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> txt<span class="token punctuation">,</span> insertSvg<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol>
<li>该图形是使用 render 调用生成的。</li>
<li>生成后，render 函数调用提供的回调函数，在本例中称为 insertSvg。</li>
<li>使用两个参数调用回调函数，即所生成图形的 svg 代码和一个函数。 在将事件插入 DOM 之后，该函数会将事件绑定到 svg。</li>
<li>将 svg 代码插入 DOM 进行演示。</li>
<li>调用绑定事件的绑定函数。</li>
</ol>
<h4 id="标记渲染器的示例"><a href="#标记渲染器的示例" class="headerlink" title="标记渲染器的示例"></a>标记渲染器的示例</h4><p>这是用 html 中的 mermaid 图表将 markdown 文档转成 html 的渲染器。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">marked<span class="token punctuation">.</span>Renderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
renderer<span class="token punctuation">.</span><span class="token function-variable function">code</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">code<span class="token punctuation">,</span> language</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>code<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^sequenceDiagram</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token operator">||</span>code<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^graph</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">'&lt;div class="mermaid">'</span><span class="token operator">+</span>code<span class="token operator">+</span><span class="token string">'&lt;/div>'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">else</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> <span class="token string">'&lt;pre>&lt;code>'</span><span class="token operator">+</span>code<span class="token operator">+</span><span class="token string">'&lt;/code>&lt;/pre>'</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>coffeescript 中的另一个示例在生成的标记中也包含 mermaid 脚本标签。</p>
<pre class="line-numbers language-coffeescript" data-language="coffeescript"><code class="language-coffeescript">marked <span class="token operator">=</span> require <span class="token string">'marked'</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
    hasMermaid <span class="token operator">=</span> <span class="token keyword">false</span>
    renderer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">marked<span class="token punctuation">.</span>Renderer</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    renderer<span class="token punctuation">.</span>defaultCode <span class="token operator">=</span> renderer<span class="token punctuation">.</span>code
    renderer<span class="token punctuation">.</span>code <span class="token operator">=</span> <span class="token punctuation">(</span>code<span class="token punctuation">,</span> language<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span>
        <span class="token keyword">if</span> language <span class="token keyword">is</span> <span class="token string">'mermaid'</span>
            html <span class="token operator">=</span> <span class="token string">''</span>
            <span class="token keyword">if</span> <span class="token keyword">not</span> hasMermaid
                hasMermaid <span class="token operator">=</span> <span class="token keyword">true</span>
                html <span class="token operator">+=</span> <span class="token string">'&lt;script src="'</span><span class="token operator">+</span>options<span class="token punctuation">.</span>mermaidPath<span class="token operator">+</span><span class="token string">'">&lt;/script>'</span>
            html <span class="token operator">+</span> <span class="token string">'&lt;div class="mermaid">'</span><span class="token operator">+</span>code<span class="token operator">+</span><span class="token string">'&lt;/div>'</span>
        <span class="token keyword">else</span>
            @<span class="token function">defaultCode</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> language<span class="token punctuation">)</span>
            
    renderer<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="高级用法"><a href="#高级用法" class="headerlink" title="高级用法"></a>高级用法</h4><h5 id="错误处理"><a href="#错误处理" class="headerlink" title="错误处理"></a>错误处理</h5><p>当解析器遇到无效语法时，将调用 mermaid.parseError 函数。可以覆盖此函数，以便以特定于应用程序的方式处理错误。</p>
<h5 id="解析文本而不渲染"><a href="#解析文本而不渲染" class="headerlink" title="解析文本而不渲染"></a>解析文本而不渲染</h5><p>还可以在渲染之前验证语法，以简化用户体验。函数 mermaid.parse(txt) 以文本字符串作为参数，如果文本在语法上是正确的，则返回true，否则返回false。当 parse 函数返回 false 时，将调用 parseError 函数。</p>
<p>以下源码中的代码示例说明了其工作方式：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid<span class="token punctuation">.</span><span class="token function-variable function">parseError</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> hash</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token function">displayErrorInGui</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">textFieldUpdated</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> textStr <span class="token operator">=</span> <span class="token function">getTextFromFormField</span><span class="token punctuation">(</span><span class="token string">'code'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span><span class="token punctuation">(</span>mermaid<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>textStr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">reRender</span><span class="token punctuation">(</span>textStr<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token function">bindEventHandler</span><span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token string">'code'</span><span class="token punctuation">,</span> textFieldUpdated<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>mermaid 有许多选项，可让您调整图表的渲染方式。目前有三种方式来设置 mermaid 的这些选项。</p>
<ol>
<li>使用 initialize 调用实例化配置</li>
<li><del>使用全局 mermaid 对象-</del>已弃用</li>
<li><del>使用全局 mermaid_config 对象-</del>已弃用</li>
<li>使用 mermaid.init 调用实例化配置</li>
</ol>
<p>上面的列表中有太多的方法可以做到这一点。有三个是已弃用的，最终将被删除。<a target="_blank" rel="noopener" href="https://mermaid-js.github.io/mermaid/#/mermaidAPI.html">mermaidAPI 文档</a>中描述了配置对象的列表。</p>
<h4 id="使用-mermaidAPI-initialize-mermaid-initialize-调用"><a href="#使用-mermaidAPI-initialize-mermaid-initialize-调用" class="headerlink" title="使用 mermaidAPI.initialize / mermaid.initialize 调用"></a>使用 <code>mermaidAPI.initialize</code> / <code>mermaid.initialize</code> 调用</h4><p>未来设置配置可证实的方法是根据您所使用的集成类型，使用对 mermaid 或者 mermaidAPI 的 initialize 调用。</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>../dist/mermaid.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
        startOnLoad<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
        flowchart<span class="token operator">:</span><span class="token punctuation">&#123;</span>
            useMaxWidth<span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span>
            htmlLabels<span class="token operator">:</span><span class="token boolean">true</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
    mermaid<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p><strong>成功</strong>: 这是配置 mermaid 的首选方式。</p>
</blockquote>
<h4 id="使用-mermaid-对象（已弃用）"><a href="#使用-mermaid-对象（已弃用）" class="headerlink" title="使用 mermaid 对象（已弃用）"></a>使用 mermaid 对象（已弃用）</h4><p>可以通过 mermaid 对象设置一些配置。使用此方法支持的两个参数是：</p>
<ul>
<li>mermaid.startOnLoad</li>
<li>mermaid.htmlLabels</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid<span class="token punctuation">.</span>startOnLoad <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p><strong>注意</strong>：这种设置配置的方式已弃用。相反，首选方式是使用 initialize 方法。保留此功能只是为了向后兼容。</p>
</blockquote>
<h4 id="使用-mermaid-config（已弃用）"><a href="#使用-mermaid-config（已弃用）" class="headerlink" title="使用 mermaid_config（已弃用）"></a>使用 mermaid_config（已弃用）</h4><p>可以通过 mermaid 对象设置一些配置。使用此方法支持的两个参数是：</p>
<ul>
<li>mermaid_config.startOnLoad</li>
<li>mermaid_config.htmlLabels</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid_config<span class="token punctuation">.</span>startOnLoad <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p><strong>注意</strong>：这种设置配置的方式已弃用。相反，首选方式是使用 initialize 方法。保留此功能只是为了向后兼容。</p>
</blockquote>
<h4 id="使用-mermaid-init-调用（已弃用）"><a href="#使用-mermaid-init-调用（已弃用）" class="headerlink" title="使用 mermaid.init 调用（已弃用）"></a>使用 mermaid.init 调用（已弃用）</h4><p>可以通过 mermaid 对象设置一些配置。使用此方法支持的两个参数是：</p>
<ul>
<li>mermaid_config.startOnLoad</li>
<li>mermaid_config.htmlLabels</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid_config<span class="token punctuation">.</span>startOnLoad <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p><strong>注意</strong>：这种设置配置的方式已弃用。相反，首选方式是使用 initialize 方法。保留此功能只是为了向后兼容。</p>
</blockquote>
<h3 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h3><h4 id="基本饼图"><a href="#基本饼图" class="headerlink" title="基本饼图"></a>基本饼图</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">pie title NETFLIX
             &quot;Time spent looking for movie&quot; : 90
             &quot;Time spent watching it&quot; : 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">pie title NETFLIX
             &quot;Time spent looking for movie&quot; : 90
             &quot;Time spent watching it&quot; : 10<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-md" data-language="md"><code class="language-md">pie title What Voldemort doesn&#39;t have?
         &quot;FRIENDS&quot; : 2
         &quot;FAMILY&quot; : 3
         &quot;NOSE&quot; : 45<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">pie title What Voldemort doesn&#39;t have?
         &quot;FRIENDS&quot; : 2
         &quot;FAMILY&quot; : 3
         &quot;NOSE&quot; : 45<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="基本顺序图"><a href="#基本顺序图" class="headerlink" title="基本顺序图"></a>基本顺序图</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice -&gt;&gt; Bob: Hello Bob, how are you?
    Bob--&gt;&gt;John: How about you John?
    Bob--x Alice: I am good thanks!
    Bob-x John: I am good thanks!
    Note right of John: Bob thinks a long&lt;br&#x2F;&gt;long time, so long&lt;br&#x2F;&gt;that the text does&lt;br&#x2F;&gt;not fit on a row.
    
    Bob--&gt;Alice: Checking with John...
    Alice-&gt;John: Yes... John, how are you?<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice -&gt;&gt; Bob: Hello Bob, how are you?
    Bob--&gt;&gt;John: How about you John?
    Bob--x Alice: I am good thanks!
    Bob-x John: I am good thanks!
    Note right of John: Bob thinks a long&lt;br&#x2F;&gt;long time, so long&lt;br&#x2F;&gt;that the text does&lt;br&#x2F;&gt;not fit on a row.
    
    Bob--&gt;Alice: Checking with John...
    Alice-&gt;John: Yes... John, how are you?<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="基本流程图"><a href="#基本流程图" class="headerlink" title="基本流程图"></a>基本流程图</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A[Sequence Rect] --&gt;|Link Text| B((Circle)) --&gt; C&#123;Rhombus&#125;
    A --&gt; D(Round Rect) --&gt; C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A[Sequence Rect] --&gt;|Link Text| B((Circle)) --&gt; C&#123;Rhombus&#125;
    A --&gt; D(Round Rect) --&gt; C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="具有某些样式的较大流程图"><a href="#具有某些样式的较大流程图" class="headerlink" title="具有某些样式的较大流程图"></a>具有某些样式的较大流程图</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TB
    E[Square Shape] --&gt; F((Circle Shape))
    H((Inner &#x2F; circle&lt;br&gt;and some odd&lt;br&gt;special characters)) --&gt; I&gt;Really long text with linebreak&lt;br&gt;in an Odd Shape]
    H --&gt; J(,.?!+-*ز)
    K[Cyrillic] --&gt; L((Circle shape Начало))
    subgraph A
        G&gt;Odd Shape] --&gt;|&quot;Two line&lt;br&gt;edge comment&quot;| B(&quot;Rounded&lt;br&#x2F;&gt;square&lt;br&#x2F;&gt;shape&quot;)
        C&#123;Diamond with&lt;br&gt;line break&#125; -.-&gt; B
        C &#x3D;&#x3D;&gt; D(Rounded square shape)
    end
    
    classDef Brown fill:#FF9967,stroke:#333,stroke-width:4px;
    classDef Green fill:#99FF66,stroke:#333,stroke-width:2px;
    class C Brown
    class E,H Green<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TB
    E[Square Shape] --&gt; F((Circle Shape))
    H((Inner &#x2F; circle&lt;br&gt;and some odd&lt;br&gt;special characters)) --&gt; I&gt;Really long text with linebreak&lt;br&gt;in an Odd Shape]
    H --&gt; J(,.?!+-*ز)
    K[Cyrillic] --&gt; L((Circle shape Начало))
    subgraph A
        G&gt;Odd Shape] --&gt;|&quot;Two line&lt;br&gt;edge comment&quot;| B(&quot;Rounded&lt;br&#x2F;&gt;square&lt;br&#x2F;&gt;shape&quot;)
        C&#123;Diamond with&lt;br&gt;line break&#125; -.-&gt; B
        C &#x3D;&#x3D;&gt; D(Rounded square shape)
    end
    
    classDef Brown fill:#FF9967,stroke:#333,stroke-width:4px;
    classDef Green fill:#99FF66,stroke:#333,stroke-width:2px;
    class C Brown
    class E,H Green<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="循环，alt-和-opt"><a href="#循环，alt-和-opt" class="headerlink" title="循环，alt 和 opt"></a>循环，alt 和 opt</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    loop Daily query
        Alice -&gt;&gt; Bob: Hello Bob, how are you?
        alt is sick
            Bob -&gt;&gt; Alice: Not so good:(
        else is well
            Bob -&gt;&gt; Alice: Feeling fresh like a daisy
        end
        opt Extra response
            Bob -&gt;&gt; Alice: Thanks for asking
        end
    end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    loop Daily query
        Alice -&gt;&gt; Bob: Hello Bob, how are you?
        alt is sick
            Bob -&gt;&gt; Alice: Not so good:(
        else is well
            Bob -&gt;&gt; Alice: Feeling fresh like a daisy
        end
        opt Extra response
            Bob -&gt;&gt; Alice: Thanks for asking
        end
    end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="自身循环留言"><a href="#自身循环留言" class="headerlink" title="自身循环留言"></a>自身循环留言</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    participant Alice
    participant Bob
    Alice -&gt;&gt; John: Hello John, how are you?
    loop Healthcheck
        John -&gt;&gt; John: Fight against hypochondria
    end
    Note right of John: Rational thoughts&lt;br&#x2F;&gt;prevail..
    John --&gt;&gt; Alice: Great!
    John -&gt;&gt; Bob: How about you?
    Bob --&gt;&gt; John: Jolly good!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    participant Alice
    participant Bob
    Alice -&gt;&gt; John: Hello John, how are you?
    loop Healthcheck
        John -&gt;&gt; John: Fight against hypochondria
    end
    Note right of John: Rational thoughts&lt;br&#x2F;&gt;prevail..
    John --&gt;&gt; Alice: Great!
    John -&gt;&gt; Bob: How about you?
    Bob --&gt;&gt; John: Jolly good!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="mermaid-CLI"><a href="#mermaid-CLI" class="headerlink" title="mermaid CLI"></a>mermaid CLI</h3><p>mermaid CLI 已移至 <a target="_blank" rel="noopener" href="https://github.com/mermaidjs/mermaid.cli">mermaid.cli</a>。 请改为阅读其文档。</p>
<h2 id="图表"><a href="#图表" class="headerlink" title="图表"></a>图表</h2><h3 id="流程图-基本语法"><a href="#流程图-基本语法" class="headerlink" title="流程图 - 基本语法"></a>流程图 - 基本语法</h3><h4 id="图表（图的整体方向）"><a href="#图表（图的整体方向）" class="headerlink" title="图表（图的整体方向）"></a>图表（图的整体方向）</h4><p>该语句声明一个新图和图形布局的方向。<br>这声明了一个从上到下（ <code>TD</code> 或 <code>TB</code> ）的图形。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TD
    Start--&gt;Stop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TD
    Start--&gt;Stop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TB
    Start--&gt;Stop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TB
    Start--&gt;Stop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>这声明了一个从左到右的图形( <code>LR</code> )。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR 
    Start --&gt; Stop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR 
    Start --&gt; Stop<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>可能的方向有：</p>
<ul>
<li>TB - 从上到下</li>
<li>BT - 从下到上</li>
<li>RL - 从右到左</li>
<li>LR - 从左到右</li>
<li>TD - 和 TB 一样 (从上到下)</li>
</ul>
<h4 id="节点和形状"><a href="#节点和形状" class="headerlink" title="节点和形状"></a>节点和形状</h4><h5 id="默认节点"><a href="#默认节点" class="headerlink" title="默认节点"></a>默认节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>注意，id 是在节点框中显示的内容。</p>
<h5 id="带文本的节点"><a href="#带文本的节点" class="headerlink" title="带文本的节点"></a>带文本的节点</h5><p>还可以在框中设置与id不同的文本。如果多次执行此操作，则将使用为节点找到的最后文本。同样，如果稍后定义节点的边缘，则可以省略文本定义。渲染框时将使用先前定义的那个。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id1[This is the text in the box]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id1[This is the text in the box]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="具有圆边的节点"><a href="#具有圆边的节点" class="headerlink" title="具有圆边的节点"></a>具有圆边的节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id1(This is the text in the box)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id1(This is the text in the box)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="圆形的节点"><a href="#圆形的节点" class="headerlink" title="圆形的节点"></a>圆形的节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id1((This is the text in the circle))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id1((This is the text in the circle))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="非对称形状的节点"><a href="#非对称形状的节点" class="headerlink" title="非对称形状的节点"></a>非对称形状的节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id1&gt;This is the text in the box]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id1&gt;This is the text in the box]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>目前，只有上面的形状是可能的，而不是它的镜子。<em>这可能会随着将来的版本而改变。</em></p>
<h5 id="菱形节点"><a href="#菱形节点" class="headerlink" title="菱形节点"></a>菱形节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id&#123;This is the text in the box&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id&#123;This is the text in the box&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="六角形节点"><a href="#六角形节点" class="headerlink" title="六角形节点"></a>六角形节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id1&#123;&#123;This is the text in the box&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id1&#123;&#123;This is the text in the box&#125;&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="平行四边形节点"><a href="#平行四边形节点" class="headerlink" title="平行四边形节点"></a>平行四边形节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TD
    id1[&#x2F;This is the text in the box&#x2F;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TD
    id1[&#x2F;This is the text in the box&#x2F;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="反向平行四边形节点"><a href="#反向平行四边形节点" class="headerlink" title="反向平行四边形节点"></a>反向平行四边形节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TD
    id1[\This is the text in the box\]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TD
    id1[\This is the text in the box\]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="梯形节点"><a href="#梯形节点" class="headerlink" title="梯形节点"></a>梯形节点</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TD
    A[&#x2F;Christmas\]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TD
    A[&#x2F;Christmas\]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="反向梯形"><a href="#反向梯形" class="headerlink" title="反向梯形"></a>反向梯形</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TD
    B[\Go shopping&#x2F;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TD
    B[\Go shopping&#x2F;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="节点间的链接"><a href="#节点间的链接" class="headerlink" title="节点间的链接"></a>节点间的链接</h4><p>节点可以通过链接/边缘连接。可以使用不同类型的链接或将文本字符串附加到链接上。</p>
<h5 id="带有箭头的链接"><a href="#带有箭头的链接" class="headerlink" title="带有箭头的链接"></a>带有箭头的链接</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A--&gt;B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A--&gt;B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="开放链接（两边都没有箭头的实线）"><a href="#开放链接（两边都没有箭头的实线）" class="headerlink" title="开放链接（两边都没有箭头的实线）"></a>开放链接（两边都没有箭头的实线）</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A --- B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A --- B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="链接上的文字"><a href="#链接上的文字" class="headerlink" title="链接上的文字"></a>链接上的文字</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A-- This is the text ---B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A-- This is the text ---B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="带有箭头和文字的链接"><a href="#带有箭头和文字的链接" class="headerlink" title="带有箭头和文字的链接"></a>带有箭头和文字的链接</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A--&gt;|text|B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A--&gt;|text|B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>或者</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A-- text --&gt;B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A-- text --&gt;B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="虚线"><a href="#虚线" class="headerlink" title="虚线"></a>虚线</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR;
    A-.-&gt;B;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR;
    A-.-&gt;B;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="带文本的虚线"><a href="#带文本的虚线" class="headerlink" title="带文本的虚线"></a>带文本的虚线</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A-. text .-&gt; B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A-. text .-&gt; B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="粗箭头链接"><a href="#粗箭头链接" class="headerlink" title="粗箭头链接"></a>粗箭头链接</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A &#x3D;&#x3D;&gt; B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A &#x3D;&#x3D;&gt; B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="带文本的粗箭头链接"><a href="#带文本的粗箭头链接" class="headerlink" title="带文本的粗箭头链接"></a>带文本的粗箭头链接</h5><pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A &#x3D;&#x3D; text &#x3D;&#x3D;&gt; B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A &#x3D;&#x3D; text &#x3D;&#x3D;&gt; B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="串联箭头"><a href="#串联箭头" class="headerlink" title="串联箭头"></a>串联箭头</h5><p>可以按如下所示在同一行中声明许多链接（箭头）：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A -- text --&gt; B -- text2 --&gt; C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A -- text --&gt; B -- text2 --&gt; C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="破坏语法的特殊字符"><a href="#破坏语法的特殊字符" class="headerlink" title="破坏语法的特殊字符"></a>破坏语法的特殊字符</h4><p>可以将文本放在引号中，以渲染更麻烦的字符。如以下示例所示：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id1[&quot;This is the (text) in the box&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id1[&quot;This is the (text) in the box&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h5 id="实体代码转成转义字符"><a href="#实体代码转成转义字符" class="headerlink" title="实体代码转成转义字符"></a>实体代码转成转义字符</h5><p>用如下的示例语法可以转义字符。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A[&quot;A double quote:#quot;&quot;] --&gt;B[&quot;A dec char:#9829;&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A[&quot;A double quote:#quot;&quot;] --&gt;B[&quot;A dec char:#9829;&quot;]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="子图"><a href="#子图" class="headerlink" title="子图"></a>子图</h4><pre class="line-numbers language-none"><code class="language-none">subgraph title
    graph definition
end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>例子如下：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TB
    c1--&gt;a2
    subgraph one
    a1--&gt;a2
    end
    subgraph two
    b1--&gt;b2
    end
    subgraph three
    c1--&gt;c2
    end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TB
    c1--&gt;a2
    subgraph one
    a1--&gt;a2
    end
    subgraph two
    b1--&gt;b2
    end
    subgraph three
    c1--&gt;c2
    end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="交互"><a href="#交互" class="headerlink" title="交互"></a>交互</h4><p>可以将click事件绑定到节点，单击可能导致JavaScript回调或在新的浏览器标签中打开一个新链接。<strong>注意</strong>:此功能在使用 <code>securityLevel=&#39;strict&#39;</code> 时禁用，在使用 <code>securityLevel=&#39;loose&#39;</code> 时启用。</p>
<pre class="line-numbers language-none"><code class="language-none">click noteId callback<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ul>
<li>noteId 是节点的id</li>
<li>回调函数是在显示图形的页面上定义的 javascript 函数的名称，将使用 nodeId 作为参数调用该函数。</li>
</ul>
<p>以下是提示框用法的示例：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'A callback was triggered'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR;
    A--&gt;B;
    click A callback &quot;Tooltip for a callback&quot;
    click B &quot;http:&#x2F;&#x2F;www.github.com&quot; &quot;This is a tooltip for a link&quot;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<p>提示框文本用双引号括起来。提示框的样式由 .mermaidTooltip 类设置。</p>
<blockquote>
<p><strong>成功</strong>：从版本0.5.2开始提供提示框功能和链接到url的功能。</p>
</blockquote>
<p>初学者提示，一个在html上下文中使用交互式链接的完整示例：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mermaid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        graph LR;
            A-->B;
            click A callback "Tooltip"
            click B "http://www.github.com" "This is a link"
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
        <span class="token keyword">var</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'A callback was triggered'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        
        <span class="token keyword">var</span> config <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
            startOnLoad<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
            flowchart<span class="token operator">:</span><span class="token punctuation">&#123;</span>
                useMaxWidth<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                htmlLabels<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
                curve<span class="token operator">:</span><span class="token string">'cardinal'</span><span class="token punctuation">,</span>
            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
            securityLevel<span class="token operator">:</span><span class="token string">'loose'</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
        
        mermaid<span class="token punctuation">.</span><span class="token function">initialize</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h5><p>可以在流程图中输入注释，解析器将忽略它们。注释必须自己一行，并且必须以 <code>%%</code>（双百分号）开头。注释开始到下一个换行符之后的所有文本都将被视为注释，包括任何流程图语法。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
%% this is a comment A -- text --&gt; B&#123;node&#125;
    A -- text --&gt; B -- text2 --&gt; C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
%% this is a comment A -- text --&gt; B&#123;node&#125;
    A -- text --&gt; B -- text2 --&gt; C<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="样式和类别"><a href="#样式和类别" class="headerlink" title="样式和类别"></a>样式和类别</h4><h5 id="个性化链接"><a href="#个性化链接" class="headerlink" title="个性化链接"></a>个性化链接</h5><p>可以设置链接样式。例如，您可能想要设置在流程中向后移动的链接的样式。由于链接与节点一样没有id，因此需要另一种方法来确定链接应该附加什么样式。这里使用的是在图中定义链接时的顺序号，而不是id。在下面的示例中，linkStyle 语句中定义的样式将属于图中的第四个链接：</p>
<pre class="line-numbers language-none"><code class="language-none">linkStyle 3 stroke:#ff3, stroke-width:4px;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="个性化节点"><a href="#个性化节点" class="headerlink" title="个性化节点"></a>个性化节点</h5><p>可以对节点应用特定的样式，如更粗的边框或不同的背景颜色。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    id1(Start)--&gt;id2(Stop)
    style id1 fill:#f9f,stroke:#333,stroke-width:4px
    style id2 fill:#ccf,stroke:#f66,stroke-width:2px,stroke-dasharray: 5, 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    id1(Start)--&gt;id2(Stop)
    style id1 fill:#f9f,stroke:#333,stroke-width:4px
    style id2 fill:#ccf,stroke:#f66,stroke-width:2px,stroke-dasharray: 5, 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="类"><a href="#类" class="headerlink" title="类"></a>类</h5><p>与每次定义样式相比，更方便的方法是定义一个样式类并将这个类附加到应该具有不同外观的节点上。</p>
<p>类定义如下例所示：</p>
<pre class="line-numbers language-none"><code class="language-none">classDef className fill:#f9f,stroke:#333,stroke-width:4px;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>将类附加到节点的操作如下：</p>
<pre class="line-numbers language-none"><code class="language-none">class noteId1 className;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>也可以在一个语句中将类附加到节点列表：</p>
<pre class="line-numbers language-none"><code class="language-none">class nodeId1,nodeId2 className;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="CSS-类"><a href="#CSS-类" class="headerlink" title="CSS 类"></a>CSS 类</h5><p>还可以使用css样式的预定义类，这些类可以从图定义中应用，如下例所示：</p>
<p>示例样式</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
    <span class="token selector">.cssClass > rect</span><span class="token punctuation">&#123;</span>
        <span class="token property">fill</span><span class="token punctuation">:</span>#FF0000<span class="token punctuation">;</span>
        <span class="token property">stroke</span><span class="token punctuation">:</span>#FFFF00<span class="token punctuation">;</span>
        <span class="token property">stroke-width</span><span class="token punctuation">:</span>4px<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>示例定义：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR;
    A--&gt;B[AAA&lt;span&gt;BBB&lt;&#x2F;span&gt;];
    B--&gt;D;
    class A cssClass;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR;
    A--&gt;B[AAA&lt;span&gt;BBB&lt;&#x2F;span&gt;];
    B--&gt;D;
    class A cssClass;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="默认类"><a href="#默认类" class="headerlink" title="默认类"></a>默认类</h5><p>如果一个类被命名为default，那么它将被赋值给所有没有特定类定义的类。</p>
<pre class="line-numbers language-none"><code class="language-none">classDef default fill:#f9f,stroke:#333,stroke-width:4px;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="fontawesome-的基本支持"><a href="#fontawesome-的基本支持" class="headerlink" title="fontawesome 的基本支持"></a>fontawesome 的基本支持</h4><p>可以从 fontawesome 添加图标。</p>
<p>通过语法 <code>fa:#图标类名＃</code> 访问图标。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph TD
    B[&quot;fa:fa-twitter for peace&quot;]
    B--&gt;C[fa:fa-ban forbidden]
    B--&gt;D(fa:fa-spinner);
    B--&gt;E(A fa:fa-camera-retro perhaps?);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph TD
    B[&quot;fa:fa-twitter for peace&quot;]
    B--&gt;C[fa:fa-ban forbidden]
    B--&gt;D(fa:fa-spinner);
    B--&gt;E(A fa:fa-camera-retro perhaps?);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="带有顶点和链接之间的空格且不带分号的图形声明"><a href="#带有顶点和链接之间的空格且不带分号的图形声明" class="headerlink" title="带有顶点和链接之间的空格且不带分号的图形声明"></a>带有顶点和链接之间的空格且不带分号的图形声明</h4><ul>
<li>在图形声明中，语句现在也可以不使用分号结束。在0.2.16版本发布之后，用分号结束图形语句是可选的。因此，下面的图形声明与原来的图形声明一样有效。</li>
<li>在顶点和链接之间允许有一个单独的空格。然而，在顶点和它的文本之间，链接和它的文本之间不应该有任何空格。图形声明的旧语法也将起作用，因此，此新功能是可选的，旨在提高可读性。</li>
</ul>
<p>下面是图形边缘的新声明，它与图形边缘的旧声明同样有效。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">graph LR
    A[Hard edge] --&gt;|link text| B(Round edge)
    B --&gt;  C(Decision)
    C --&gt;|One| D[Result one]
    C --&gt;|Two| E[Result two]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">graph LR
    A[Hard edge] --&gt;|link text| B(Round edge)
    B --&gt;  C(Decision)
    C --&gt;|One| D[Result one]
    C --&gt;|Two| E[Result two]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="配置-1"><a href="#配置-1" class="headerlink" title="配置"></a>配置</h4><p>可以调整渲染的流程图的宽度。</p>
<p>通过定义 mermaid.flowchartConfig 或通过 CLI 在配置中使用 json 文件来实现。mermaidCLI 页面中描述了如何使用 CLI。可以将 mermaid.flowchartConfig 设置为带有配置参数或相应对象的 JSON 字符串。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid<span class="token punctuation">.</span>flowchartConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    width<span class="token operator">:</span> <span class="token number">100</span><span class="token operator">%</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="时序图"><a href="#时序图" class="headerlink" title="时序图"></a>时序图</h3><p>序列图是一个交互图，它显示进程如何相互操作以及以什么顺序进行操作。</p>
<p>mermaid 能够渲染时序图</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice-&gt;&gt;John: Hello John, how are you?
    John--&gt;&gt;Alice: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice-&gt;&gt;John: Hello John, how are you?
    John--&gt;&gt;Alice: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h4><h5 id="参与者"><a href="#参与者" class="headerlink" title="参与者"></a>参与者</h5><p>可以像本页第一个示例中那样隐式定义参与者。参与者是按照其在图源文本中的出现顺序进行渲染的。有时，您可能希望以不同于第一个消息中显示的顺序显示参与者。通过执行以下操作可以指定参与者的出现顺序：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    participant John
    participant Alice
    Alice-&gt;&gt;John: Hello John, how are you?
    John--&gt;&gt;Alice: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    participant John
    participant Alice
    Alice-&gt;&gt;John: Hello John, how are you?
    John--&gt;&gt;Alice: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="别名"><a href="#别名" class="headerlink" title="别名"></a>别名</h5><p>参与者可以有一个方便的标识符和一个描述性标签。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    participant A as Alice
    participant J as John
    A-&gt;&gt;J: Hello John, how are you?
    J-&gt;&gt;A: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    participant A as Alice
    participant J as John
    A-&gt;&gt;J: Hello John, how are you?
    J-&gt;&gt;A: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="消息"><a href="#消息" class="headerlink" title="消息"></a>消息</h4><p>消息可以用实线显示，也可以用虚线显示。</p>
<pre class="line-numbers language-none"><code class="language-none">[Actor][Arrow][Actor]:Message text<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>目前支持 6 种类型的箭头：</p>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-&gt;</td>
<td align="center">不带箭头的实线</td>
</tr>
<tr>
<td align="center">–&gt;</td>
<td align="center">不带箭头的虚线</td>
</tr>
<tr>
<td align="center">-&gt;&gt;</td>
<td align="center">带箭头的实线</td>
</tr>
<tr>
<td align="center">—-&gt;&gt;</td>
<td align="center">带箭头的虚线</td>
</tr>
<tr>
<td align="center">-x</td>
<td align="center">末端带有叉号的实线(异步)</td>
</tr>
<tr>
<td align="center">—-x</td>
<td align="center">末端带有叉号的虚线(异步)</td>
</tr>
</tbody></table>
<h4 id="激活"><a href="#激活" class="headerlink" title="激活"></a>激活</h4><p>可以激活和停用角色。(停用)激活可以专门声明:</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice-&gt;&gt;John: Hello John, how are you?
    activate John
    John--&gt;&gt;Alice: Great!
    deactivate John<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice-&gt;&gt;John: Hello John, how are you?
    activate John
    John--&gt;&gt;Alice: Great!
    deactivate John<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>还可以通过在消息箭头后添加 <code>+</code>/<code>-</code> 后缀来表示快捷方式：(看不出来有什么区别)</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice-&gt;&gt;+John: Hello John, how are you?
    John--&gt;&gt;-Alice: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice-&gt;&gt;+John: Hello John, how are you?
    John--&gt;&gt;-Alice: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>可以为同一参与者堆叠激活：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice-&gt;&gt;+John: Hello John, how are you?
    Alice-&gt;&gt;+John: John, can you hear me?
    John--&gt;&gt;-Alice: Hi Alice, I can hear you!
    John--&gt;&gt;-Alice: I feel great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice-&gt;&gt;+John: Hello John, how are you?
    Alice-&gt;&gt;+John: John, can you hear me?
    John--&gt;&gt;-Alice: Hi Alice, I can hear you!
    John--&gt;&gt;-Alice: I feel great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><p>可以给时序图添加说明。表示语法：Note [right of|left of|over][Actor]: 说明内容中的文本</p>
<p>如下例所示：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    participant John
    Note right of John: Text in note<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    participant John
    Note right of John: Text in note<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>也可以创建跨越两个参与者的说明：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice-&gt;John: Hello John, how are you?
    Note over Alice,John: A typical interaction<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice-&gt;John: Hello John, how are you?
    Note over Alice,John: A typical interaction<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h4><p>可以在顺序图中表示循环。这是由以下表示语法完成的：</p>
<pre class="line-numbers language-none"><code class="language-none">loop Loop text
... statements ...
end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如下例所示：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice-&gt;John: Hello John, how are you?
    loop Every minute
        John--&gt;Alice: Great!
    end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice-&gt;John: Hello John, how are you?
    loop Every minute
        John--&gt;Alice: Great!
    end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="多选路径-可选路径（Alt）"><a href="#多选路径-可选路径（Alt）" class="headerlink" title="多选路径+可选路径（Alt）"></a>多选路径+可选路径（Alt）</h4><p>可以在时序图中表示可供替代的路径。由如下表示语法实现：</p>
<pre class="line-numbers language-none"><code class="language-none">alt Describing text
... statements ...
else
... statements ...
end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>或者序列是可选的(如果没有 else )。</p>
<pre class="line-numbers language-none"><code class="language-none">opt Describing text
... statements ...
end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如下例所示：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice-&gt;&gt;Bob: Hello Bob, how are you?
    alt is sick
        Bob-&gt;&gt;Alice: Not so good :(
    else is well
        Bob-&gt;&gt;Alice: Feeling fresh like a daisy
    end
    opt Extra response
        Bob-&gt;&gt;Alice: Thanks for asking
    end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice-&gt;&gt;Bob: Hello Bob, how are you?
    alt is sick
        Bob-&gt;&gt;Alice: Not so good :(
    else is well
        Bob-&gt;&gt;Alice: Feeling fresh like a daisy
    end
    opt Extra response
        Bob-&gt;&gt;Alice: Thanks for asking
    end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>看例子很容易明白，alt 适用于时序图在回应的时候有多种条件需要判断；opt 适用于时序图在回应时可以增加的额外回应（可以不回应）。</p>
<h4 id="背景高亮"><a href="#背景高亮" class="headerlink" title="背景高亮"></a>背景高亮</h4><p>通过提供彩色背景矩形可以突出显示流程。由以下表示法实现。使用 rgb 和 rgba 语法定义颜色。</p>
<pre class="line-numbers language-none"><code class="language-none">rect rgb(0, 255, 0)
... content ...
end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-none"><code class="language-none">rect rgba(0, 0, 255, .1)
... content ...
end<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>如下例所示：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    rect rgb(191, 223, 255)
        Note right of Alice: Alice calls John.
        Alice-&gt;&gt;+John: Hello John, how are you?
        rect rgb(200, 150, 255)
            Alice-&gt;&gt;+John: John, can you hear me?
            John--&gt;&gt;-Alice: Hi Alice, I can hear you!
        end
        John--&gt;&gt;-Alice: I feel great!
    end
    Alice-&gt;&gt;+John: Did you want to go to the game tonight?
    John--&gt;&gt;-Alice: Yeah! See you there.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    rect rgb(191, 223, 255)
        Note right of Alice: Alice calls John.
        Alice-&gt;&gt;+John: Hello John, how are you?
        rect rgb(200, 150, 255)
            Alice-&gt;&gt;+John: John, can you hear me?
            John--&gt;&gt;-Alice: Hi Alice, I can hear you!
        end
        John--&gt;&gt;-Alice: I feel great!
    end
    Alice-&gt;&gt;+John: Did you want to go to the game tonight?
    John--&gt;&gt;-Alice: Yeah! See you there.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="注释-1"><a href="#注释-1" class="headerlink" title="注释"></a>注释</h4><p>可以在时序图中输入注释，解析器将忽略它们。注释必须自己一行，并且必须以 <code>%%</code>（双百分号）开头。注释开始到下一个换行符之后的任何文本都将被视为注释，包括任何图语法.</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">sequenceDiagram
    Alice-&gt;&gt;John: Hello John, how are you?
    %% this is a comment
    John--&gt;&gt;Alice: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">sequenceDiagram
    Alice-&gt;&gt;John: Hello John, how are you?
    %% this is a comment
    John--&gt;&gt;Alice: Great!<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="样式"><a href="#样式" class="headerlink" title="样式"></a>样式</h4><p>时序图的样式是通过定义多个CSS类来完成的。在渲染期间，这些类是从位于 src/themes/sequence.scss 文件中提取的。</p>
<h5 id="使用的类"><a href="#使用的类" class="headerlink" title="使用的类"></a>使用的类</h5><table>
<thead>
<tr>
<th>类</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>actor</td>
<td>图表顶部的actor框的样式。</td>
</tr>
<tr>
<td>text.actor</td>
<td>图表顶部的actor框中的文本的样式。</td>
</tr>
<tr>
<td>actor-line</td>
<td>参与者垂直的线。</td>
</tr>
<tr>
<td>messageLine0</td>
<td>实线消息行的样式。</td>
</tr>
<tr>
<td>messageLine1</td>
<td>虚线消息行的样式。</td>
</tr>
<tr>
<td>messageText</td>
<td>定义消息箭头上文本的样式。</td>
</tr>
<tr>
<td>labelBox</td>
<td>定义循环中向左的样式标签。</td>
</tr>
<tr>
<td>labelText</td>
<td>循环标签中的文本样式。</td>
</tr>
<tr>
<td>loopText</td>
<td>循环框中文本的样式。</td>
</tr>
<tr>
<td>note</td>
<td>说明框的样式。</td>
</tr>
<tr>
<td>noteText</td>
<td>说明框中的文本的样式。</td>
</tr>
</tbody></table>
<h5 id="样式表例子"><a href="#样式表例子" class="headerlink" title="样式表例子"></a>样式表例子</h5><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.actor</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> #CCCCFF<span class="token punctuation">;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> #ECECFF<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">text.actor</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> Helvetica<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.actor-line</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> grey<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.messageLine0</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stroke-width</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>
    <span class="token property">stroke-dasharray</span><span class="token punctuation">:</span> <span class="token string">"2 2"</span><span class="token punctuation">;</span>
    <span class="token property">marker-end</span><span class="token punctuation">:</span> <span class="token string">"url(#arrowhead)"</span><span class="token punctuation">;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#arrowhead</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.messageText</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> black<span class="token punctuation">;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'trebuchet ms'</span><span class="token punctuation">,</span> verdana<span class="token punctuation">,</span> arial<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.labelBox</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> #CCCCFF<span class="token punctuation">;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> #ECECFF<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.labelText</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'trebuchet ms'</span><span class="token punctuation">,</span> verdana<span class="token punctuation">,</span> arial<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.loopText</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'trebuchet ms'</span><span class="token punctuation">,</span> verdana<span class="token punctuation">,</span> arial<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.loopLine</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stroke-width</span><span class="token punctuation">:</span>2<span class="token punctuation">;</span>
    <span class="token property">stroke-dasharray</span><span class="token punctuation">:</span> <span class="token string">"2 2"</span><span class="token punctuation">;</span>
    <span class="token property">marker-end</span><span class="token punctuation">:</span><span class="token string">"url(#arrowhead)"</span><span class="token punctuation">;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> #CCCCFF<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.note</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> #decc93<span class="token punctuation">;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> #CCCCFF<span class="token punctuation">;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span> #fff5ad<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.noteText</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'trebuchet ms'</span><span class="token punctuation">,</span> verdana<span class="token punctuation">,</span> arial<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span>14px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="配置-2"><a href="#配置-2" class="headerlink" title="配置"></a>配置</h4><p>是否可以调整绘制时序图的边距。</p>
<p>通过定义 mermaid.sequenceConfig 或通过 CLI 在配置中使用 json 文件来实现。<a target="_blank" rel="noopener" href="https://mermaid-js.github.io/mermaid/#/mermaidCLI.html">mermaidCLI</a> 页面中描述了如何使用 CLI。可以将 mermaid.sequenceConfig 设置为带有配置参数的JSON字符串或相应对象。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid<span class="token punctuation">.</span>sequenceConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    diagramMarginX<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>
    diagramMarginY<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    boxTextMargin<span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    noteMargin<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    messageMargin<span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span>
    mirrorActors<span class="token operator">:</span> <span class="token boolean">true</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h5 id="可能的配置参数："><a href="#可能的配置参数：" class="headerlink" title="可能的配置参数："></a>可能的配置参数：</h5><table>
<thead>
<tr>
<th align="center">参数</th>
<th align="center">描述</th>
<th align="center">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="center">mirrorActor</td>
<td align="center">打开/关闭图表下面和上面的参与者的渲染</td>
<td align="center">false</td>
</tr>
<tr>
<td align="center">bottomMarginAdj</td>
<td align="center">调整图形结束的距离。 使用CSS的宽边框样式可能会产生不必要的裁剪，这就是存在此配置参数的原因。</td>
<td align="center">1</td>
</tr>
</tbody></table>
<h3 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h3><blockquote>
<p>“在软件工程中，统一建模语言(UML)中的类图是一种静态结构图，它通过显示系统的类、它们的属性、操作(或方法)以及对象之间的关系来描述系统的结构。” 维基百科。</p>
</blockquote>
<p>类图是面向对象建模的主要构建块。它用于应用程序结构的一般概念建模，以及用于将模型转换为编程代码的详细建模。类图也可以用于数据建模。类图中的类表示主要元素，应用程序中的交互以及要编程的类。</p>
<p>Mermaid 可以渲染类图。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
     Animal &lt;|-- Duck
     Animal &lt;|-- Fish
     Animal &lt;|-- Zebra
     Animal : +int age
     Animal : +String gender
     Animal: +isMammal()
     Animal: +mate()
     class Duck&#123;
         +String beakColor
         +swim()
         +quack()
     &#125;
     class Fish&#123;
         -int sizeInFeet
         -canEat()
     &#125;
     class Zebra&#123;
         +bool is_wild
         +run()
     &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
     Animal &lt;|-- Duck
     Animal &lt;|-- Fish
     Animal &lt;|-- Zebra
     Animal : +int age
     Animal : +String gender
     Animal: +isMammal()
     Animal: +mate()
     class Duck&#123;
         +String beakColor
         +swim()
         +quack()
     &#125;
     class Fish&#123;
         -int sizeInFeet
         -canEat()
     &#125;
     class Zebra&#123;
         +bool is_wild
         +run()
     &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="语法-1"><a href="#语法-1" class="headerlink" title="语法"></a>语法</h4><h5 id="类-1"><a href="#类-1" class="headerlink" title="类"></a>类</h5><p>UML提供了表示类成员的机制，例如属性和方法，以及有关它们的其他信息。图中一个类的单独实例包含三个部分:</p>
<ul>
<li>顶部的小节包含类的名称。它以粗体和居中方式打印，并且第一个字母大写。它还可能包含描述类性质的可选注释文本。</li>
<li>中间部分包含类的属性。它们是左对齐的，第一个字母是小写的。</li>
<li>底部的小节包含类可以执行的操作。它们也是左对齐的，第一个字母是小写的。</li>
</ul>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    class BankAccount
    BankAccount : +String owner
    BankAccount : +Bigdecimal balance
    BankAccount : +deposit(amount)
    BankAccount : +withdrawl(amount)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    class BankAccount
    BankAccount : +String owner
    BankAccount : +Bigdecimal balance
    BankAccount : +deposit(amount)
    BankAccount : +withdrawl(amount)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="定义类"><a href="#定义类" class="headerlink" title="定义类"></a>定义类</h4><p>定义类有两种方法：</p>
<ul>
<li>使用关键字 <strong>class</strong> (如 <code>class Animal</code>)显式定义类。这定义了动物类</li>
<li>通过它们之间的关系定义两个类: <code>Vehicle &lt;|-- Car</code> 。这定义了两个类 Vehicle 和 Car 及其关系。</li>
</ul>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    class Animal
    Vehicle &lt;|-- Car<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    class Animal
    Vehicle &lt;|-- Car<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>命名约定：类名应由含字母和数字（允许使用 Unicode ）和下划线的字符组成。</p>
<h4 id="定义类的成员"><a href="#定义类的成员" class="headerlink" title="定义类的成员"></a>定义类的成员</h4><p>UML提供了表示类成员的机制，例如属性和方法，以及有关它们的其他信息。</p>
<h5 id="可见性"><a href="#可见性" class="headerlink" title="可见性"></a>可见性</h5><p>为了指定类成员（即任何属性或方法）的可见性，可以将这些符号放在成员名称的前面，但是它是可选的：</p>
<ul>
<li><code>+</code> Public（公有）</li>
<li><code>-</code> Private（私有）</li>
<li><code>#</code> Protected（保护）</li>
<li><code>~</code> Package（包）</li>
</ul>
<p>mermaid 根据括号 <code>()</code> 是否存在来区分属性和函数/方法。带有 () 的被视为函数/方法，其他的被视为属性。</p>
<p>定义类的成员有两种方法，无论使用哪种语法定义成员，输出都将相同。这两种不同的方式是:</p>
<ul>
<li>使用:（冒号）后跟成员名称来关联一个类的成员，适用于一次定义一个成员。 例如：</li>
</ul>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    class BankAccount
    BankAccount : +String owner
    BankAccount : +BigDecimal balance
    BankAccount : +deposit(amount)
    BankAccount : +withdrawl(amount)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    class BankAccount
    BankAccount : +String owner
    BankAccount : +BigDecimal balance
    BankAccount : +deposit(amount)
    BankAccount : +withdrawl(amount)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ul>
<li>使用 {} 括号将类的成员相关联，其中成员分组在花（大）括号中。适用于一次定义多个成员。 例如：</li>
</ul>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    class BankAccount&#123;
        +String owner
        +BigDecimal balance
        +deposit(amount)
        +withdrawl(amount)
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    class BankAccount&#123;
        +String owner
        +BigDecimal balance
        +deposit(amount)
        +withdrawl(amount)
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="定义关系"><a href="#定义关系" class="headerlink" title="定义关系"></a>定义关系</h4><p>关系是一个通用术语，涵盖类和对象图中发现的特定类型的逻辑连接。</p>
<pre class="line-numbers language-none"><code class="language-none">[classA][Arrow][ClassB]:LabelText<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>UML 中为类定义了不同类型的关系，以下关系目前是受支持的：</p>
<table>
<thead>
<tr>
<th align="center">类型</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">&lt;|–</td>
<td align="center">继承</td>
</tr>
<tr>
<td align="center">*–</td>
<td align="center">组合</td>
</tr>
<tr>
<td align="center">o–</td>
<td align="center">聚合</td>
</tr>
<tr>
<td align="center">–&gt;</td>
<td align="center">关联</td>
</tr>
<tr>
<td align="center">..&gt;</td>
<td align="center">关联</td>
</tr>
<tr>
<td align="center">–</td>
<td align="center">链接</td>
</tr>
<tr>
<td align="center">..</td>
<td align="center">链接</td>
</tr>
</tbody></table>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    classA &lt;|-- classB
    classC *-- classD
    classE o-- classF
    classG &lt;-- classH
    classI &lt;.. classJ
    classK .. classL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    classA &lt;|-- classB
    classC *-- classD
    classE o-- classF
    classG &lt;-- classH
    classI &lt;.. classJ
    classK .. classL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>我们也可以使用相反方向的箭头：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    classA --|&gt; classB
    classC --* classD
    classE --o classF
    classG &lt;--&gt; classH
    classI ..&gt; classJ
    classK .. classL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    classA --|&gt; classB
    classC --* classD
    classE --o classF
    classG &lt;--&gt; classH
    classI ..&gt; classJ
    classK .. classL<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="在关系上添加标签文本"><a href="#在关系上添加标签文本" class="headerlink" title="在关系上添加标签文本"></a>在关系上添加标签文本</h4><p>可以在关系中添加标签文本：</p>
<pre class="line-numbers language-none"><code class="language-none">[classA][Arrow][ClassB]:LabelText<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    classA &lt;|-- classB : implements
    classC *-- classD : composition
    classE o-- classF : association<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    classA &lt;|-- classB : implements
    classC *-- classD : composition
    classE o-- classF : association<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="关系上的基数-多重性"><a href="#关系上的基数-多重性" class="headerlink" title="关系上的基数/多重性"></a>关系上的基数/多重性</h4><p>类图中的多重性或基数性表示一个类链接到另一个类实例的实例数量。例如，一个公司将有一个或多个员工，但是每个员工只为一个公司工作。（一个类将有一个或多个实例，但是每个实例只属于一个类）</p>
<p>多重符号位于关联的结尾附近。</p>
<p>不同的基数选项有：</p>
<ul>
<li><code>0..1</code> 0 或 1</li>
<li><code>1</code> 只有 1</li>
<li><code>1..*</code> 1 或 更多</li>
<li><code>*</code> 许多</li>
<li><code>n</code> n {n &gt; 1}</li>
<li><code>0..n</code> 0 到 n {n &gt; 1}</li>
<li><code>1..n</code> 1 到 n {n &gt; 1}</li>
</ul>
<p>通过在给定箭头之前(可选)和之后(可选)的引号 <code>&quot;</code> 中放置基数文本，可以轻松定义基数。</p>
<pre class="line-numbers language-none"><code class="language-none">[classA] &quot;cardinality1&quot; [Arrow] &quot;cardinality2&quot; [classB]:LabelText<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    Customer &quot;1&quot; --&gt; &quot;*&quot; Ticket
    Student &quot;1&quot; --&gt; &quot;1..*&quot; Course
    Galaxy --&gt; &quot;many&quot; Star : Contains<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    Customer &quot;1&quot; --&gt; &quot;*&quot; Ticket
    Student &quot;1&quot; --&gt; &quot;1..*&quot; Course
    Galaxy --&gt; &quot;many&quot; Star : Contains<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="类注释-在-MWeb软件-中不起作用"><a href="#类注释-在-MWeb软件-中不起作用" class="headerlink" title="类注释(在 MWeb软件 中不起作用)"></a>类注释(在 MWeb软件 中不起作用)</h4><p>可以使用特定的标记文本为类添加注释，该标记文本类似于该类的元数据，可以清楚地指示其性质。</p>
<ul>
<li><code>&lt;&lt;Interface&gt;&gt;</code> 表示接口类</li>
<li><code>&lt;&lt;abstract&gt;&gt;</code> 表示抽象类</li>
<li><code>&lt;&lt;Service&gt;&gt;</code> 表示服务类</li>
<li><code>&lt;&lt;enumeration&gt;&gt;</code> 表示枚举</li>
</ul>
<p>注释是在开始 <code>&lt;&lt;</code> 和结束 <code>&gt;&gt;</code> 中定义的。有两种向类添加注释的方法，无论使用哪种语法，输出都将相同。这两种方式是：</p>
<ul>
<li><p>在类定义后的单独一行中。例如:</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    class Shape
        &lt;&lt;interface&gt;&gt; Shape<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

</li>
</ul>
<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    class Shape
        &lt;&lt;interface&gt;&gt; Shape<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<ul>
<li>与类定义一起放在嵌套结构中。例如:</li>
</ul>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
    class Shape &#123;
        &lt;&lt;interface&gt;&gt;
        noOfVertices
        draw()    
    &#125;
    class Color &#123;
        &lt;&lt;enumeration&gt;&gt;
        RED
        BLUE
        GREEN
        WHITE
        BLACK
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
    class Shape &#123;
        &lt;&lt;interface&gt;&gt;
        noOfVertices
        draw()    
    &#125;
    class Color &#123;
        &lt;&lt;enumeration&gt;&gt;
        RED
        BLUE
        GREEN
        WHITE
        BLACK
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="注释-2"><a href="#注释-2" class="headerlink" title="注释"></a>注释</h4><p>可以在类图中输入注释，解析器将忽略它们。注释必须自己一行，并且必须以 <code>%%</code>（双百分号）开头。注释开始到下一个换行符之后的任何文本都将被视为注释，包括任何图语法.</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">classDiagram
%% This whole line is a comment classDiagram class Shape &lt;&lt;interface&gt;&gt;
class Shape&#123;
    &lt;&lt;interface&gt;&gt;
    noOfVertices
    draw()
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">classDiagram
%% This whole line is a comment classDiagram class Shape &lt;&lt;interface&gt;&gt;
class Shape&#123;
    &lt;&lt;interface&gt;&gt;
    noOfVertices
    draw()
&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="样式-1"><a href="#样式-1" class="headerlink" title="样式"></a>样式</h4><p>时序图的样式是通过定义多个CSS类来完成的。在渲染期间，这些类是从位于 src/themes/sequence.scss 文件中提取的。</p>
<h5 id="使用的样式类"><a href="#使用的样式类" class="headerlink" title="使用的样式类"></a>使用的样式类</h5><table>
<thead>
<tr>
<th align="center">类</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">g.classGroup text</td>
<td align="center">通用类文本样式</td>
</tr>
<tr>
<td align="center">classGroup .title</td>
<td align="center">通用类标题样式</td>
</tr>
<tr>
<td align="center">g.classGroup rect</td>
<td align="center">类图矩形的样式</td>
</tr>
<tr>
<td align="center">g.classGroup line</td>
<td align="center">类图线的样式</td>
</tr>
<tr>
<td align="center">.classLabel .box</td>
<td align="center">类标签框的样式</td>
</tr>
<tr>
<td align="center">.classLabel .label</td>
<td align="center">类标签文本的样式</td>
</tr>
<tr>
<td align="center">composition</td>
<td align="center">组合箭头和箭头线的样式</td>
</tr>
<tr>
<td align="center">aggregation</td>
<td align="center">聚合箭头和箭头线(虚线或实线)的样式</td>
</tr>
<tr>
<td align="center">dependency</td>
<td align="center">依赖箭头和箭头线的样式</td>
</tr>
</tbody></table>
<h5 id="样式表例子-1"><a href="#样式表例子-1" class="headerlink" title="样式表例子"></a>样式表例子</h5><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">&#123;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">g.classGroup text</span> <span class="token punctuation">&#123;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> $nodeBorder<span class="token punctuation">;</span>
  <span class="token property">stroke</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'trebuchet ms'</span><span class="token punctuation">,</span> verdana<span class="token punctuation">,</span> arial<span class="token punctuation">;</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--mermaid-font-family<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 10px<span class="token selector">;

  .title</span> <span class="token punctuation">&#123;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bolder<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">g.classGroup rect</span> <span class="token punctuation">&#123;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> $nodeBkg<span class="token punctuation">;</span>
  <span class="token property">stroke</span><span class="token punctuation">:</span> $nodeBorder<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">g.classGroup line</span> <span class="token punctuation">&#123;</span>
  <span class="token property">stroke</span><span class="token punctuation">:</span> $nodeBorder<span class="token punctuation">;</span>
  <span class="token property">stroke-width</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.classLabel .box</span> <span class="token punctuation">&#123;</span>
  <span class="token property">stroke</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token property">stroke-width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> $nodeBkg<span class="token punctuation">;</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.classLabel .label</span> <span class="token punctuation">&#123;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> $nodeBorder<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">.relation</span> <span class="token punctuation">&#123;</span>
  <span class="token property">stroke</span><span class="token punctuation">:</span> $nodeBorder<span class="token punctuation">;</span>
  <span class="token property">stroke-width</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token atrule"><span class="token rule">@mixin</span> composition</span> <span class="token punctuation">&#123;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> $nodeBorder<span class="token punctuation">;</span>
  <span class="token property">stroke</span><span class="token punctuation">:</span> $nodeBorder<span class="token punctuation">;</span>
  <span class="token property">stroke-width</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#compositionStart</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@include</span> composition<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#compositionEnd</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@include</span> composition<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span>

<span class="token atrule"><span class="token rule">@mixin</span> aggregation</span> <span class="token punctuation">&#123;</span>
  <span class="token property">fill</span><span class="token punctuation">:</span> $nodeBkg<span class="token punctuation">;</span>
  <span class="token property">stroke</span><span class="token punctuation">:</span> $nodeBorder<span class="token punctuation">;</span>
  <span class="token property">stroke-width</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#aggregationStart</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@include</span> aggregation<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#aggregationEnd</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@include</span> aggregation<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#dependencyStart</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@include</span> composition<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#dependencyEnd</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@include</span> composition<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#extensionStart</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@include</span> composition<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#extensionEnd</span> <span class="token punctuation">&#123;</span>
  <span class="token atrule"><span class="token rule">@include</span> composition<span class="token punctuation">;</span></span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>这是 Sass 中的语法特点。Sass ：Syntactically Awesome Stylesheets。它是一个 CSS 预处理器。<br>@mixin 指令允许我们定义一个可以在整个样式表中重复使用的样式。<br>@include 指令可以将混入（mixin）引入到文档中。</p>
</blockquote>
<h4 id="配置-3"><a href="#配置-3" class="headerlink" title="配置"></a>配置</h4><p><code>即将来临</code></p>
<h3 id="状态图"><a href="#状态图" class="headerlink" title="状态图"></a>状态图</h3><blockquote>
<p>状态图是计算机科学及相关领域中用于描述系统行为的一种图。状态图要求所描述的系统由有限数量的状态组成；有时候确实是这样，而在其他时候则是合理的抽象。” 维基百科</p>
</blockquote>
<p>mermaid 可以渲染状态图。语法尝试与plantUml中使用的语法兼容，因为这将使用户更容易在 mermaid 和 plantUml 之间共享图表。</p>
<pre class="line-numbers language-markdown" data-language="markdown"><code class="language-markdown">stateDiagram
    [<span class="token italic"><span class="token punctuation">*</span><span class="token content">] --> Still
    Still --> [</span><span class="token punctuation">*</span></span>]
    
<span class="token code keyword">    Still --> Moving
    Moving --> Still
    Moving --> Crash
    Crash --> [*]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    [*] --&gt; Still
    Still --&gt; [*]
    
    Still --&gt; Moving
    Moving --&gt; Still
    Moving --&gt; Crash
    Crash --&gt; [*]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在状态图中，根据其状态以及系统状态如何通过转换，转变为另一种状态来描述系统。上面的示例图显示了三个状态：<strong>Still</strong>，<strong>Moving</strong> 和 <strong>Crash</strong>。您可以从 Sitll 状态更改为 Moving。在 Moving 状态中，您可以将状态更改回 Still 或 Crash。没有从 Still 到 Crash 的转换。</p>
<h4 id="状态"><a href="#状态" class="headerlink" title="状态"></a>状态</h4><p>可以通过多种方式声明状态。最简单的方法是将状态ID定义为描述。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    s1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    s1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>另一种方法是使用带说明的 state 关键字，其说明如下：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    state "This is a state description" as s2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    state &quot;This is a state description&quot; as s2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>定义带描述的状态的另一种方法是定义状态ID，后跟冒号和描述：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    s2 : This is a state description<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    s2 : This is a state description<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h4><p>转换是一种状态进入另一种状态时的路径/边缘。使用文本箭头 ”–&gt;” 表示。</p>
<p>当您定义两个状态之间的转换且尚未定义状态时，将使用转换中的ID定义未定义状态。稍后您可以向以这种方式定义的状态添加描述。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    s1 --> s2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    s1 --&gt; s2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p>可以向转换添加文本。 描述它代表什么。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    s1 --> s2: A transition<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    s1 --&gt; s2: A transition<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h4 id="开始和结束"><a href="#开始和结束" class="headerlink" title="开始和结束"></a>开始和结束</h4><p>有两种特殊状态指示图的开始和停止。这些都是用 [*] 语法编写的，转换到它的方向将其定义为开始或停止状态。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    [<span class="token italic"><span class="token punctuation">*</span><span class="token content">] --> s1
    s1 --> [</span><span class="token punctuation">*</span></span>]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    [*] --&gt; s1
    s1 --&gt; [*]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="复合状态"><a href="#复合状态" class="headerlink" title="复合状态"></a>复合状态</h4><p>在现实世界中使用状态图时，您通常会遇到多维图，因为一个状态可以具有多个内部状态。这些在本术语中称为复合状态。</p>
<p>为了定义一个复合状态，您需要使用state关键字，后跟id，以及{}之间的复合状态的主体。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    [<span class="token italic"><span class="token punctuation">*</span><span class="token content">] --> First
    state First &#123;
        [</span><span class="token punctuation">*</span></span>] --> second
        second --> [*]
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    [*] --&gt; First
    state First &#123;
        [*] --&gt; second
        second --&gt; [*]
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>您可以分几层进行操作：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    [<span class="token italic"><span class="token punctuation">*</span><span class="token content">] --> First
    
    state First &#123;
        [</span><span class="token punctuation">*</span></span>] --> Second
        
<span class="token code keyword">        state Second &#123;
            [*] --> second
            second --> Third
            
            state Third &#123;
                [*] --> third
                third --> [*]
            &#125;
        &#125;
    &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    [*] --&gt; First
    
    state First &#123;
        [*] --&gt; Second
        
        state Second &#123;
            [*] --&gt; second
            second --&gt; Third
            
            state Third &#123;
                [*] --&gt; third
                third --&gt; [*]
            &#125;
        &#125;
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>您还可以在复合状态之间定义转换：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    [<span class="token italic"><span class="token punctuation">*</span><span class="token content">] --> First
    First --> Second
    First --> Third
    
    state First &#123;
        [</span><span class="token punctuation">*</span></span>] --> fir
        fir --> [<span class="token italic"><span class="token punctuation">*</span><span class="token content">]
    &#125;
    
    state Second &#123;
        [</span><span class="token punctuation">*</span></span>] --> sec
        sec --> [<span class="token italic"><span class="token punctuation">*</span><span class="token content">]
    &#125;
    
    state Third &#123;
        [</span><span class="token punctuation">*</span></span>] --> thi
        thi --> [*]
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    [*] --&gt; First
    First --&gt; Second
    First --&gt; Third
    
    state First &#123;
        [*] --&gt; fir
        fir --&gt; [*]
    &#125;
    
    state Second &#123;
        [*] --&gt; sec
        sec --&gt; [*]
    &#125;
    
    state Third &#123;
        [*] --&gt; thi
        thi --&gt; [*]
    &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="分叉-在-MWeb软件-中不起作用"><a href="#分叉-在-MWeb软件-中不起作用" class="headerlink" title="分叉(在 MWeb软件 中不起作用)"></a>分叉(在 MWeb软件 中不起作用)</h4><p>可以使用 &lt;<fork>&gt; &lt;<join>&gt;在图中指定一个分叉。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    state fork_state &lt;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fork</span><span class="token punctuation">></span></span>>
    [<span class="token italic"><span class="token punctuation">*</span><span class="token content">] --> fork_state
    fork_state --> State2
    fork_state --> State3
    
    state join_state &lt;&lt;join>>
    State2 --> join_state
    State3 --> join_state
    join_state --> State4
    State4 --> [</span><span class="token punctuation">*</span></span>]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    state fork_state &lt;&lt;fork&gt;&gt;
      [*] --&gt; fork_state
      fork_state --&gt; State2
      fork_state --&gt; State3

      state join_state &lt;&lt;join&gt;&gt;
      State2 --&gt; join_state
      State3 --&gt; join_state
      join_state --&gt; State4
      State4 --&gt; [*]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="笔记"><a href="#笔记" class="headerlink" title="笔记"></a>笔记</h4><p>有时候没有什么比笔记更能说明问题了。状态图中也是如此。<br>在这里，您可以选择将笔记放在节点的右侧或左侧。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    State1: The state with a note
    note right of State1
        Important information! You can write
        notes.
    end note
    State1 --> State2
    note left of State2 : This is the note to the left<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    State1: The state with a note
    note right of State1
        Important information! You can write
        notes.
    end note
    State1 --&gt; State2
    note left of State2 : This is the note to the left.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="并发性"><a href="#并发性" class="headerlink" title="并发性"></a>并发性</h4><p>在 plantUml 中您可以使用 – 符号指定并发性。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
        [*] --> Active

<span class="token code keyword">        state Active &#123;
            [*] --> NumLockOff
            NumLockOff --> NumLockOn : EvNumLockPressed
            NumLockOn --> NumLockOff : EvNumLockPressed
            --
            [*] --> CapsLockOff
            CapsLockOff --> CapsLockOn : EvCapsLockPressed
            CapsLockOn --> CapsLockOff : EvCapsLockPressed
            --
            [*] --> ScrollLockOff
            ScrollLockOff --> ScrollLockOn : EvCapsLockPressed
            ScrollLockOn --> ScrollLockOff : EvCapsLockPressed
        &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
        [*] --&gt; Active

        state Active &#123;
            [*] --&gt; NumLockOff
            NumLockOff --&gt; NumLockOn : EvNumLockPressed
            NumLockOn --&gt; NumLockOff : EvNumLockPressed
            --
            [*] --&gt; CapsLockOff
            CapsLockOff --&gt; CapsLockOn : EvCapsLockPressed
            CapsLockOn --&gt; CapsLockOff : EvCapsLockPressed
            --
            [*] --&gt; ScrollLockOff
            ScrollLockOff --&gt; ScrollLockOn : EvCapsLockPressed
            ScrollLockOn --&gt; ScrollLockOff : EvCapsLockPressed
        &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="注释-3"><a href="#注释-3" class="headerlink" title="注释"></a>注释</h4><p>可以在状态图表中输入注释，解析器将会忽略它们。注释必须单独一行，并且必须以 <code>%%</code> 开头（双百分号）开头。从注释开始后到下一个换行为止的任何文本都将被当做注释，包括任何图语法。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">stateDiagram
    [<span class="token italic"><span class="token punctuation">*</span><span class="token content">] --> Still
    Still --> [</span><span class="token punctuation">*</span></span>]
    %% this is a comment
    Still --> Moving
    Moving --> Still %% another comment
    Moving --> Crash
    Crash --> [*]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">stateDiagram
    [*] --&gt; Still
    Still --&gt; [*]
    %% this is a comment
    Still --&gt; Moving
    Moving --&gt; Still %% another comment
    Moving --&gt; Crash
    Crash --&gt; [*]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="样式-2"><a href="#样式-2" class="headerlink" title="样式"></a>样式</h4><p>状态图的样式是通过定义多个 css 类来完成的。在渲染时，这些类从位于 src/themes/state.scss 文件中提取。</p>
<h3 id="甘特图-1"><a href="#甘特图-1" class="headerlink" title="甘特图"></a>甘特图</h3><blockquote>
<p>甘特图是一种条形图，最早由卡罗尔·阿达米基(Karol Adamiecki)在1896年开发，并在1910年代由亨利·甘特(Henry Gantt)独立开发，它说明了一个项目的时间表。</p>
</blockquote>
<p>Mermaid 可以渲染甘特图。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">gantt
    title A Gantt Diagram
    dateFormat YYYY-MM-DD
    section Section
    A task          :a1, 2014-01-01, 30d
    Another task    :after a1, 20d
    section Another
    Task in sec     :2014-01-12, 12d
    another task    : 24d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">gantt
    title A Gantt Diagram
    dateFormat YYYY-MM-DD
    section Section
    A task          :a1, 2014-01-01, 30d
    Another task    :after a1, 20d
    section Another
    Task in sec     :2014-01-12, 12d
    another task    : 24d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="语法-2"><a href="#语法-2" class="headerlink" title="语法"></a>语法</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">gantt
    dateFormat YYYY-MM-DD
    title Adding GANTT diagram functionality to mermaid
    
<span class="token code keyword">    section A section
    Completed task      :done,   des1, 2014-01-06, 2014-01-08
    Active task         :active, des2, 2014-01-09, 3d
    Future task         :        des3, after des2, 5d
    Future task2        :        des4, after des3, 5d</span>
    
<span class="token code keyword">    section Critical tasks
    Completed task in the critical line :crit, done, 2014-01-06, 24h
    Implement parser and jison          :crit, done, after des1, 2d
    Create tests for parser             :crit, active, 3d
    Future task in critical line        :crit, 5d
    Create tests for renderer           :2d
    Add to mermaid                      :1d</span>
    
<span class="token code keyword">    section Documentation
    Describe gantt syntax               :active, a1, after des1, 3d
    Add gantt diagram to demo page      :after a1, 20h
    Add another diagram to demo page    :doc1, after a1, 48h</span>
    
<span class="token code keyword">    section Last section
    Describe gantt syntax               :after doc1, 3d
    Add gantt diagram to demo page      :20h
    Add another diagram to demo page    :48h</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">gantt
    dateFormat YYYY-MM-DD
    title Adding GANTT diagram functionality to mermaid
    
    section A section
    Completed task      :done,   des1, 2014-01-06, 2014-01-08
    Active task         :active, des2, 2014-01-09, 3d
    Future task         :        des3, after des2, 5d
    Future task2        :        des4, after des3, 5d
    
    section Critical tasks
    Completed task in the critical line :crit, done, 2014-01-06, 24h
    Implement parser and jison          :crit, done, after des1, 2d
    Create tests for parser             :crit, active, 3d
    Future task in critical line        :crit, 5d
    Create tests for renderer           :2d
    Add to mermaid                      :1d
    
    section Documentation
    Describe gantt syntax               :active, a1, after des1, 3d
    Add gantt diagram to demo page      :after a1, 20h
    Add another diagram to demo page    :doc1, after a1, 48h
    
    section Last section
    Describe gantt syntax               :after doc1, 3d
    Add gantt diagram to demo page      :20h
    Add another diagram to demo page    :48h<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="标题"><a href="#标题" class="headerlink" title="标题"></a>标题</h4><p>待定</p>
<h4 id="节声明"><a href="#节声明" class="headerlink" title="节声明"></a>节声明</h4><p>待定</p>
<h4 id="设置日期"><a href="#设置日期" class="headerlink" title="设置日期"></a>设置日期</h4><p>待定</p>
<h5 id="日期格式"><a href="#日期格式" class="headerlink" title="日期格式"></a>日期格式</h5><p>默认的日期格式是 YYYY-MM-DD。您可以自定义 <code>dateFormat</code>。例如：</p>
<pre class="line-numbers language-none"><code class="language-none">dateFormat YYYY MM DD<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="图定义"><a href="#图定义" class="headerlink" title="图定义"></a>图定义</h5><p>输入示例说明：</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">YYYY    2014    4位数的年份
YY      14      2位数的年份
Q       1..4    4分之一的年。将月份设置为季度的第一个月。
M MM    1..12   月数
MMM MMMM    January...Dec   通过moment.locale()设置的地区中的月份名称
D DD    1..31   每月的天数
Do      1st..31st   每月第几天
DDD DDDD    1..365  每年的天数
X       1410715640.579      Unix 时间戳
x       1410715640579       Unix 毫秒时间戳<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<table>
<thead>
<tr>
<th align="center">输入</th>
<th align="center">示例</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">H HH</td>
<td align="center">0..23</td>
<td align="center">24小时时间</td>
</tr>
<tr>
<td align="center">h hh</td>
<td align="center">1..12</td>
<td align="center">和 A.(am.上午) 一起使用的 12 小时时间</td>
</tr>
<tr>
<td align="center">a A</td>
<td align="center">am pm</td>
<td align="center">午前(上午)或午后(下午)</td>
</tr>
<tr>
<td align="center">m mm</td>
<td align="center">0..59</td>
<td align="center">分钟</td>
</tr>
<tr>
<td align="center">s ss</td>
<td align="center">0..59</td>
<td align="center">秒</td>
</tr>
<tr>
<td align="center">S</td>
<td align="center">0..9</td>
<td align="center">十分之一秒</td>
</tr>
<tr>
<td align="center">SS</td>
<td align="center">0.99</td>
<td align="center">百分之一秒</td>
</tr>
<tr>
<td align="center">SSS</td>
<td align="center">0..999</td>
<td align="center">千分之一秒</td>
</tr>
<tr>
<td align="center">Z ZZ</td>
<td align="center">+12:00</td>
<td align="center">与UTC的偏移量，如：+-HH:mm， +-HHmm，或Z</td>
</tr>
</tbody></table>
<p>有关更多信息，请访问：<a target="_blank" rel="noopener" href="http://momentjs.com/docs/#/parsing/string-format/">http://momentjs.com/docs/#/parsing/string-format/</a></p>
<h5 id="格式化符号"><a href="#格式化符号" class="headerlink" title="格式化符号"></a>格式化符号</h5><pre class="line-numbers language-none"><code class="language-none">%a - 工作日的缩写名称。
%A - 完整的工作日名称。
%b - 缩写的月份名称
%B - 完整的月份名称
%c - 日期和时间，例如 “%a %b %e %H:%M:%S %Y”。
%d - 以十进制数字[01,31]表示的一个月的零填充日。
%e - 以十进制数字[ 1,31]表示的月份的天;相当于 %_d。
%H - 以十进制数[00, 23]表示的小时（24 小时制）。
%I - 以十进制数[01, 12]表示的小时（12 小时制）。
%j - 以十进制数[001, 366]表示的一年的天数。
%m - 以十进制数[01, 12]表示的月份。
%M - 以十进制数[00, 59]表示的分钟数。
%L - 以十进制数[000, 999]表示的毫秒数。
%p - 上午(AM)或下午(PM)。
%S - 以十进制数[00, 61]表示的秒数。
%U - 以十进制数[00, 53]表示的一年中的周数（星期日为一周的第一天）。
%w - 以十进制数[0(星期日), 6]表示的星期数。
%W - 以十进制数[00, 53]表示的一年中的周数（星期一为一周的第一天）。
%x - 日期，例如 “%m&#x2F;%d&#x2F;%Y”
%X - 时间，例如 “%H:%M:%S”
%y - 以十进制数[00, 99]表示的不带世纪的年。
%Y - 以十进制数表示的带世纪的年。
%Z - 时区偏移，例如 “-0700”
%% - 一个原义“%”字符。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>有关更多信息，请访问：<a target="_blank" rel="noopener" href="https://github.com/mbostock/d3/wiki/Time-Formatting">https://github.com/mbostock/d3/wiki/Time-Formatting</a></p>
<h4 id="注释-4"><a href="#注释-4" class="headerlink" title="注释"></a>注释</h4><p>可以在甘特图中输入注释，解析器将忽略它们。注释必须单起一行，并且必须以 <code>%%</code> （双百分号）开头。在注释开始到下一行后的任何文本都会被当做注释对待，包含任何图语法。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">gantt
    title A Gantt Diagram
    %% this is a comment
    dateFormat YYYY-MM-DD
    section Section
    A task          :a1, 2014-01-01, 30d
    Another task    :after a1, 20d
    section Another
    Task in sec     :2014-01-12, 12d
    another task    :24d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">gantt
    title A Gantt Diagram
    %% this is a comment
    dateFormat YYYY-MM-DD
    section Section
    A task          :a1, 2014-01-01, 30d
    Another task    :after a1, 20d
    section Another
    Task in sec     :2014-01-12, 12d
    another task    :24d<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="样式-3"><a href="#样式-3" class="headerlink" title="样式"></a>样式</h4><p>甘特图的样式是通过定义多个 css 类来完成的。在渲染时，这些类从位于 src/themes/state.scss 文件中提取。</p>
<h5 id="使用的类-1"><a href="#使用的类-1" class="headerlink" title="使用的类"></a>使用的类</h5><p>…</p>
<h5 id="样式表例子-2"><a href="#样式表例子-2" class="headerlink" title="样式表例子"></a>样式表例子</h5><pre class="line-numbers language-css" data-language="css"><code class="language-css"><span class="token selector">.grid .tick</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stroke</span><span class="token punctuation">:</span> lightgrey<span class="token punctuation">;</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.3<span class="token punctuation">;</span>
    <span class="token property">shape-rendering</span><span class="token punctuation">:</span> crispEdges<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.grid path</span> <span class="token punctuation">&#123;</span>
    <span class="token property">stroke-width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#tag</span> <span class="token punctuation">&#123;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #FA283D<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span>3px 6px<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -80px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 11px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token selector">#tag:before</span> <span class="token punctuation">&#123;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> solid transparent<span class="token punctuation">;</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">' '</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">margin-left</span><span class="token punctuation">:</span> -5px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">border-width</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">border-bottom-color</span><span class="token punctuation">:</span> #FA283D<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> -20px<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.taskText</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span>white<span class="token punctuation">;</span>
    <span class="token property">text-anchor</span><span class="token punctuation">:</span>middle<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.taskTextOutsideRight</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span>
    <span class="token property">text-anchor</span><span class="token punctuation">:</span>start<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token selector">.taskTextOutsideLeft</span> <span class="token punctuation">&#123;</span>
    <span class="token property">fill</span><span class="token punctuation">:</span>black<span class="token punctuation">;</span>
    <span class="token property">text-anchor</span><span class="token punctuation">:</span>end<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="配置-4"><a href="#配置-4" class="headerlink" title="配置"></a>配置</h4><p>可以调整渲染甘特图的间距。</p>
<p>这是通过定义配置对象的 <code>ganttConfig</code> 部分来完成的。<a target="_blank" rel="noopener" href="https://mermaid-js.github.io/mermaid/#/mermaidCLI.html">mermaidCLI</a> 页面中描述了如何使用 CLI。</p>
<p>可以将mermaid.ganttConfig设置为带有配置参数的JSON字符串或相应对象。</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">mermaid<span class="token punctuation">.</span>ganttConfig <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    titleTopMargin<span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">,</span>
    barHeight<span class="token operator">:</span><span class="token number">20</span><span class="token punctuation">,</span>
    barGap<span class="token operator">:</span><span class="token number">4</span><span class="token punctuation">,</span>
    topPadding<span class="token operator">:</span><span class="token number">75</span><span class="token punctuation">,</span>
    sidePadding<span class="token operator">:</span><span class="token number">75</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><blockquote>
<p>饼图（或圆形图）是圆形统计图形，将其分为多个切片以说明数字比例。在饼图中，每个切片的弧长（以及其中心角和面积）与它所表示的量成比例。虽然它的名字类似于切成薄片的馅饼，但其呈现方式也有所不同。已知最早的饼状图一般被认为是威廉·普莱费尔《1801年的统计摘要》——维基百科</p>
</blockquote>
<p>Mermaid 可以渲染饼图。</p>
<pre class="line-numbers language-md" data-language="md"><code class="language-md">pie title Pets adopted by volunteers
    "Dogs" : 386
    "Cats" : 85
    "Rats" : 15<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">pie title Pets adopted by volunteers
    &quot;Dogs&quot; : 386
    &quot;Cats&quot; : 85
    &quot;Rats&quot; : 15<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="语法-3"><a href="#语法-3" class="headerlink" title="语法"></a>语法</h4><p>在 mermaid 中画一个饼图是非常简单的。</p>
<ul>
<li>用 <code>pie</code> 关键字开始来初始化图表。</li>
<li>后跟title关键字及其字符串中的值，以为饼图赋予标题。这是<strong>可选的</strong>。</li>
<li>其次是数据集<ul>
<li>饼图中的某个部分的标签用引号引起来。</li>
<li>后跟 <code>:</code> 冒号作为分隔符</li>
<li>后跟正数值（最多支持两位小数）</li>
</ul>
</li>
</ul>
<pre class="line-numbers language-none"><code class="language-none">[pie][title][titleValue](OPTIONAL)
&quot;[dataKey1]&quot; : [dataValue1]
&quot;[dataKey2]&quot; : [dataValue2]
&quot;[dataKey3]&quot; : [dataValue3]<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">pie
    title key elements in Product X
    "Calcium" : 42.96
    "Potassium" : 50.05
    "Magnesium" : 10.01
    "Iron" : 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">pie
    title key elements in Product X
    &quot;Calcium&quot; : 42.96
    &quot;Potassium&quot; : 50.05
    &quot;Magnesium&quot; : 10.01
    &quot;Iron&quot; : 5<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h2><h3 id="开发"><a href="#开发" class="headerlink" title="开发"></a>开发</h3><h4 id="更新文档"><a href="#更新文档" class="headerlink" title="更新文档"></a>更新文档</h4><p>我们使用GitBook编写文档。<br>请继续进行 <a target="_blank" rel="noopener" href="https://github.com/mermaidjs/mermaid-gitbook">mermaid-gitbook</a> 项目。</p>
<h4 id="如何添加新的图表类型"><a href="#如何添加新的图表类型" class="headerlink" title="如何添加新的图表类型"></a>如何添加新的图表类型</h4><h5 id="步骤1：语法和解析"><a href="#步骤1：语法和解析" class="headerlink" title="步骤1：语法和解析"></a>步骤1：语法和解析</h5><h6 id="语法-4"><a href="#语法-4" class="headerlink" title="语法"></a>语法</h6><p>这将为新的图表类型定义jison语法。这应该从识别 mermaid 标签中的文本是这种类型的图表开始。在图下为您的新图类型创建一个新文件夹，并在其中创建一个解析器文件夹。 这就引出了步骤2。</p>
<p>例如：</p>
<ul>
<li>流程图以关键字 graph 开始。</li>
<li>时序图以关键字 sequenceDiagram 开始。</li>
</ul>
<h6 id="存储解析时找到的数据"><a href="#存储解析时找到的数据" class="headerlink" title="存储解析时找到的数据"></a>存储解析时找到的数据</h6><p>这里有一些jison特有的子步骤，解析器在其中存储解析图时遇到的数据，这些数据稍后由渲染器使用。您可以在解析期间调用解析器用户提供给解析器的对象。可以在解析时调用这个对象用来存储数据。</p>
<blockquote>
<p>jison 是 JavaScript 中用于生成 <code>解释器</code> 的工具。具体信息请查阅: <a target="_blank" rel="noopener" href="http://icodeit.org/2015/09/write-a-parser/">工程中的编译原理 – Jison入门篇</a></p>
</blockquote>
<pre class="line-numbers language-none"><code class="language-none">statement
    : &#39;participant&#39; actor &#123; $$&#x3D;&#39;actor&#39;; &#125;
    | signal              &#123; $$&#x3D;&#39;signal&#39; &#125;
    | note_statement      &#123; $$&#x3D;&#39;note&#39;; &#125;
    | &#39;title&#39; message     &#123; yy.setTitle($2); &#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>在上面的语法摘录中，定义了在解析时遇到 title 关键字时对数据对象中的 setTitle 方法的调用。</p>
<blockquote>
<p>信息：确保已定义解析器的 <code>parseError</code> 函数并调用 <code>mermaidPAI.parseError</code>。 这样，为最终用户提供了一种检测解析错误的通用方法。</p>
</blockquote>
<p>有关更多信息，请查看示例图类型：</p>
<p><code>yy</code> 对象有如下函数：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">exports<span class="token punctuation">.</span><span class="token function-variable function">parseError</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> hash</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    mermaidAPI<span class="token punctuation">.</span><span class="token function">parseError</span><span class="token punctuation">(</span>err<span class="token punctuation">,</span> hash<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>解析yy对象时，初始化如下：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> parser
parser <span class="token operator">=</span> exampleParser<span class="token punctuation">.</span>parser
parser<span class="token punctuation">.</span>yy <span class="token operator">=</span> db<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="步骤2：渲染器"><a href="#步骤2：渲染器" class="headerlink" title="步骤2：渲染器"></a>步骤2：渲染器</h5><p>写一个解析器根据解析时找到的数据来渲染该图。要查看示例，请查看sequendeRenderer.js而不是流程图渲染器，因为这是一个更通用的示例。</p>
<p>将渲染器放入到图表文件夹中。</p>
<h5 id="步骤3：检测新的图表类型"><a href="#步骤3：检测新的图表类型" class="headerlink" title="步骤3：检测新的图表类型"></a>步骤3：检测新的图表类型</h5><p>要做的第二件事是在 utils.js 中向 detectType 添加检测要键入的新图表的功能。检测应返回新图类型的键。</p>
<h5 id="步骤4：最后一部分-触发渲染器"><a href="#步骤4：最后一部分-触发渲染器" class="headerlink" title="步骤4：最后一部分 - 触发渲染器"></a>步骤4：最后一部分 - 触发渲染器</h5><p>这时候，当美人鱼试图渲染图时，它将检测到它是新类型，但是在尝试渲染图时将找不到匹配。要解决此问题，请在main.js：init的 switch 语句中添加一个新 case 分支，该案例应与步骤2中返回的图表类型匹配。此新 case 语句中的代码应使用解析器找到的数据作为参数来调用图类型的渲染器。</p>
<h4 id="将解析器作为单独的模块使用"><a href="#将解析器作为单独的模块使用" class="headerlink" title="将解析器作为单独的模块使用"></a>将解析器作为单独的模块使用</h4><h5 id="安装-3"><a href="#安装-3" class="headerlink" title="安装"></a>安装</h5><pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> graph <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./graphDb'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> flow <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./parser/flow'</span><span class="token punctuation">)</span>
flow<span class="token punctuation">.</span>parser<span class="token punctuation">.</span>yy <span class="token operator">=</span> graph<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h5 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h5><pre class="line-numbers language-js" data-language="js"><code class="language-js">flow<span class="token punctuation">.</span>parser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h5 id="数据提取"><a href="#数据提取" class="headerlink" title="数据提取"></a>数据提取</h5><pre class="line-numbers language-js" data-language="js"><code class="language-js">graph<span class="token punctuation">.</span><span class="token function">getDirection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">getVertices</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
graph<span class="token punctuation">.</span><span class="token function">getEdges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>通过调用 mermaid API也可以得到解析器：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">var</span> parser <span class="token operator">=</span> mermaid<span class="token punctuation">.</span><span class="token function">getParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>注意，解析需要一个图形对象来存储数据，如下所示:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">flow<span class="token punctuation">.</span>parser<span class="token punctuation">.</span>yy <span class="token operator">=</span> graph<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>查看 <code>graphDb.js</code> 以获得有关该对象的更多详细信息。</p>
<h4 id="获取-mermaid-版本号信息："><a href="#获取-mermaid-版本号信息：" class="headerlink" title="获取 mermaid 版本号信息："></a>获取 mermaid 版本号信息：</h4><pre class="line-numbers language-md" data-language="md"><code class="language-md">info<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-mermaid" data-language="mermaid"><code class="language-mermaid">info<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

            </div>
            <hr />

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">写作不易，客官能否打赏一杯奶茶？</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            

    <div class="reprint" id="reprint-statement">
        <p class="reprint-tip">
            <i class="fa fa-exclamation-triangle"></i>&nbsp;&nbsp;
            <span>转载规则</span>
        </p>
        
            <div class="center-align">
                <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                    <img alt=""
                         style="border-width:0"
                         src="https://i.creativecommons.org/l/by/4.0/88x31.png"/>
                </a>
            </div>
            <br/>
            <span xmlns:dct="http://purl.org/dc/terms/" href="http://purl.org/dc/dcmitype/Text"
                  property="dct:title" rel="dct:type">
                    《mermaid v8.4 中文文档》
                </span> 由
            <a xmlns:cc="http://creativecommons.org/ns#" href="/2020/05/09/mermaid-v8-4-%E4%B8%AD%E6%96%87%E6%96%87%E6%A1%A3/" property="cc:attributionName"
               rel="cc:attributionURL">
                MockyBang
            </a> 采用
            <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/deed.zh">
                知识共享署名 4.0 国际许可协议
            </a>进行许可。
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>


        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/05/12/hexo-%E6%B7%BB%E5%8A%A0-mermaid-%E6%94%AF%E6%8C%81/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/21.jpg" class="responsive-img" alt="hexo 添加 mermaid 支持">
                        
                        <span class="card-title">hexo 添加 mermaid 支持</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            前言本文讲述如何在 Hexo 博客中添加对 Mermaid 画图工具的支持。
步骤添加 Mermaid 加载代码到 Hexo 主题的 footer 布局文件直接使用在网页中嵌入的方式运行 Mermaid 插件。


本主题中，footer.
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2020-05-12
                        </span>
                        <span class="publish-author">
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/02/16/sort-algorithms/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/3.jpg" class="responsive-img" alt="十大经典排序算法整理汇总（附代码）">
                        
                        <span class="card-title">十大经典排序算法整理汇总（附代码）</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            本文整理并总结了十大经典的排序算法（冒泡排序、选择排序、插入排序、快速排序、归并排序、希尔排序、计数排序、基数排序、桶排序、堆排序）的时间复杂度、空间复杂度等性质。
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2020-02-16
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E7%BC%96%E7%A8%8B%E7%AE%97%E6%B3%95/" class="post-category" target="_self">
                                    编程算法
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/leetcode/" target="_self">
                        <span class="chip bg-color">leetcode</span>
                    </a>
                    
                    <a href="/tags/%E7%AE%97%E6%B3%95/" target="_self">
                        <span class="chip bg-color">算法</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: MockyBang's Blob<br />'
            + '作者: MockyBang<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () { bodyElement.removeChild(newdiv); }, 200);
    });
</script>

    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fa fa-list"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).slideUp(500);
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).slideDown(500);
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>
    

</main>


<script src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
    MathJax.Hub.Config({
        tex2jax: {inlineMath: [['$', '$'], ['\(', '\)']]}
    });
</script>

<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>
<!-- 代码语言 -->
<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>
<!-- 代码块复制 -->
<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>
<script type="text/javascript" src="/libs/codeBlock/clipboard.min.js"></script>
<!-- 代码块收缩 -->
<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script> 
<!-- 代码块折行 -->
<style type="text/css">code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }</style>


    <footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            &copy; 2017-2020 MockyBang. 版权所有

            
            &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
            <span class="white-color">16.8k</span>
            

            <br>
            <span id="sitetime"></span>

            
            
            <br>
            
            <span id="busuanzi_container_site_pv" style='display:none'>
                <i class="fa fa-heart-o"></i>
                本站总访问量 <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
            <span id="busuanzi_container_site_uv" style='display:none'>
                人次,&nbsp;访客数 <span id="busuanzi_value_site_uv" class="white-color"></span> 人.
            </span>
            
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/mockybang" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:1453021901@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>




    <a href="http://wpa.qq.com/msgrd?v=3&uin=1453021901&site=qq&menu=yes" class="tooltipped" target="_blank" data-tooltip="访问我的知乎" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>



    <a href="https://weibo.com/冰海之恋墨良" class="tooltipped" target="_blank" data-tooltip="关注我的微博" data-position="top" data-delay="50">
        <i class="fa fa-weibo"></i>
    </a>


</div>
    </div>
</footer>

<div class="progress-bar"></div>

<!-- 不蒜子计数初始值纠正 -->
<script>
    $(document).ready(function () {

        var int = setInterval(fixCount, 50);
        var pvcountOffset = 0;
        var uvcountOffset = 0;

        function fixCount() {
            if (document.getElementById("busuanzi_container_site_pv").style.display != "none") {
                $("#busuanzi_value_site_pv").html(parseInt($("#busuanzi_value_site_pv").html()) + pvcountOffset);
                clearInterval(int);
            }
            if ($("#busuanzi_container_site_pv").css("display") != "none") {
                $("#busuanzi_value_site_uv").html(parseInt($("#busuanzi_value_site_uv").html()) + uvcountOffset); // 加上初始数据 
                clearInterval(int);
            }
        }
    });
</script>

<script language=javascript>
    function siteTime() {
        window.setTimeout("siteTime()", 1000);
        var seconds = 1000;
        var minutes = seconds * 60;
        var hours = minutes * 60;
        var days = hours * 24;
        var years = days * 365;
        var today = new Date();
        var todayYear = today.getFullYear();
        var todayMonth = today.getMonth() + 1;
        var todayDate = today.getDate();
        var todayHour = today.getHours();
        var todayMinute = today.getMinutes();
        var todaySecond = today.getSeconds();
        /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
        year - 作为date对象的年份，为4位年份值
        month - 0-11之间的整数，做为date对象的月份
        day - 1-31之间的整数，做为date对象的天数
        hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
        minutes - 0-59之间的整数，做为date对象的分钟数
        seconds - 0-59之间的整数，做为date对象的秒数
        microseconds - 0-999之间的整数，做为date对象的毫秒数 */
        var t1 = Date.UTC(2020, 05, 09, 16, 00, 00); //北京时间2018-2-13 00:00:00
        var t2 = Date.UTC(todayYear, todayMonth, todayDate, todayHour, todayMinute, todaySecond);
        var diff = t2 - t1;
        var diffYears = Math.floor(diff / years);
        var diffDays = Math.floor((diff / days) - diffYears * 365);
        var diffHours = Math.floor((diff - (diffYears * 365 + diffDays) * days) / hours);
        var diffMinutes = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours) / minutes);
        var diffSeconds = Math.floor((diff - (diffYears * 365 + diffDays) * days - diffHours * hours - diffMinutes * minutes) / seconds);
        document.getElementById("sitetime").innerHTML = "本站已运行 " + diffYears + " 年 " + diffDays + " 天 " + diffHours + " 小时 " + diffMinutes + " 分钟 " + diffSeconds + " 秒";
    }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
    siteTime();
</script>


<script src='https://unpkg.com/mermaid@8.5.0/dist/mermaid.min.js'></script>

<script>
    if (window.mermaid) {
        mermaid.initialize({"startOnLoad":false});
    }
</script>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
});
</script>
    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript"> var OriginTitile = document.title, st; document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>

    <!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id="></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', '');
</script>



    
    <script src="/libs/others/clicklove.js"></script>
    

    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    <!-- 雪花特效 -->
    

</body>

</html>